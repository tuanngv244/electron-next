"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3761],{42479:(e,t,n)=>{n.d(t,{A:()=>m});var o=n(12115),i=n(43463),a=n(7123),r=n(89142),l=n(12567),d=n(81045),s=n(37157);function u(e){return(0,s.Ay)("MuiCardContent",e)}(0,d.A)("MuiCardContent",["root"]);var p=n(95155);let c=e=>{let{classes:t}=e;return(0,a.A)({root:["root"]},u,t)},g=(0,r.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:16,"&:last-child":{paddingBottom:24}}),m=o.forwardRef(function(e,t){let n=(0,l.b)({props:e,name:"MuiCardContent"}),{className:o,component:a="div",...r}=n,d={...n,component:a},s=c(d);return(0,p.jsx)(g,{as:a,className:(0,i.A)(s.root,o),ownerState:d,ref:t,...r})})},63551:(e,t,n)=>{n.d(t,{A:()=>A});var o=n(12115),i=n(7123),a=n(79251),r=n(9561),l=n(89142),d=n(12567),s=n(81045),u=n(37157);function p(e){return(0,u.Ay)("MuiCardHeader",e)}let c=(0,s.A)("MuiCardHeader",["root","avatar","action","content","title","subheader"]);var g=n(48827),m=n(95155);let x=e=>{let{classes:t}=e;return(0,i.A)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},p,t)},h=(0,l.Ay)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>[{["& .".concat(c.title)]:t.title},{["& .".concat(c.subheader)]:t.subheader},t.root]})({display:"flex",alignItems:"center",padding:16}),v=(0,l.Ay)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),f=(0,l.Ay)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,t)=>t.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),b=(0,l.Ay)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,t)=>t.content})({flex:"1 1 auto",[".".concat(a.A.root,":where(& .").concat(c.title,")")]:{display:"block"},[".".concat(a.A.root,":where(& .").concat(c.subheader,")")]:{display:"block"}}),A=o.forwardRef(function(e,t){let n=(0,d.b)({props:e,name:"MuiCardHeader"}),{action:o,avatar:i,component:a="div",disableTypography:l=!1,subheader:s,subheaderTypographyProps:u,title:p,titleTypographyProps:c,slots:A={},slotProps:w={},...j}=n,M={...n,component:a,disableTypography:l},C=x(M),y={slots:A,slotProps:{title:c,subheader:u,...w}},k=p,[P,S]=(0,g.A)("title",{className:C.title,elementType:r.A,externalForwardedProps:y,ownerState:M,additionalProps:{variant:i?"body2":"h5",component:"span"}});null==k||k.type===r.A||l||(k=(0,m.jsx)(P,{...S,children:k}));let I=s,[B,F]=(0,g.A)("subheader",{className:C.subheader,elementType:r.A,externalForwardedProps:y,ownerState:M,additionalProps:{variant:i?"body2":"body1",color:"textSecondary",component:"span"}});null==I||I.type===r.A||l||(I=(0,m.jsx)(B,{...F,children:I}));let[T,W]=(0,g.A)("root",{ref:t,className:C.root,elementType:h,externalForwardedProps:{...y,...j,component:a},ownerState:M}),[D,z]=(0,g.A)("avatar",{className:C.avatar,elementType:v,externalForwardedProps:y,ownerState:M}),[N,Y]=(0,g.A)("content",{className:C.content,elementType:b,externalForwardedProps:y,ownerState:M}),[L,R]=(0,g.A)("action",{className:C.action,elementType:f,externalForwardedProps:y,ownerState:M});return(0,m.jsxs)(T,{...W,children:[i&&(0,m.jsx)(D,{...z,children:i}),(0,m.jsxs)(N,{...Y,children:[k,I]}),o&&(0,m.jsx)(L,{...R,children:o})]})})},12693:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(95155);n(12115);let i=()=>(0,o.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 3.0625C7.24162 3.0625 7.4375 3.25838 7.4375 3.5V6.5625L10.5 6.5625C10.7416 6.5625 10.9375 6.75838 10.9375 7C10.9375 7.24162 10.7416 7.4375 10.5 7.4375H7.4375V10.5C7.4375 10.7416 7.24162 10.9375 7 10.9375C6.75838 10.9375 6.5625 10.7416 6.5625 10.5V7.4375H3.5C3.25838 7.4375 3.0625 7.24162 3.0625 7C3.0625 6.75837 3.25838 6.5625 3.5 6.5625L6.5625 6.5625V3.5C6.5625 3.25838 6.75838 3.0625 7 3.0625Z",fill:"currentColor"})})},35173:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(95155);n(12115);let i=e=>{let{disabled:t,pathProps:n,...i}=e;return(0,o.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...i,children:(0,o.jsx)("path",{d:"M8.59856 5.25L8.39663 10.5M5.60337 10.5L5.40144 5.25M11.2161 3.37783C11.4156 3.40796 11.6144 3.44019 11.8125 3.4745M11.2161 3.37783L10.5932 11.4757C10.5406 12.1595 9.97041 12.6875 9.28458 12.6875H4.71542C4.02959 12.6875 3.45938 12.1595 3.40678 11.4757L2.78387 3.37783M11.2161 3.37783C10.5474 3.27684 9.87088 3.1995 9.1875 3.14669M2.1875 3.4745C2.38558 3.44019 2.58438 3.40796 2.78387 3.37783M2.78387 3.37783C3.45262 3.27684 4.12912 3.1995 4.8125 3.14669M9.1875 3.14669V2.61228C9.1875 1.92431 8.65628 1.34997 7.96867 1.32797C7.64705 1.31768 7.32413 1.3125 7 1.3125C6.67587 1.3125 6.35295 1.31768 6.03133 1.32797C5.34372 1.34997 4.8125 1.92431 4.8125 2.61228V3.14669M9.1875 3.14669C8.46566 3.09091 7.73615 3.0625 7 3.0625C6.26385 3.0625 5.53434 3.09091 4.8125 3.14669",stroke:t?"#64748B":"#F5222D",strokeLinecap:"round",strokeLinejoin:"round",...n})})}},95801:(e,t,n)=>{n.d(t,{e:()=>u});var o=n(93297),i=n(3417),a=n(76046),r=n(12115),l=n(4867),d=n(39666),s=function(e){return e.Create="B1",e.Update="B2",e.Delete="B3",e.Detail="B4",e.List="B5",e.Upload="B6",e.Export="B7",e.Import="B8",e.Download="B9",e}({});let u=()=>{var e;let t=(0,a.usePathname)(),{params:n}=(0,d.s)(),u=null===(e=(0,o.A)())||void 0===e?void 0:e.user,p=(0,i.GV)(e=>e.common.progBtnList),c=!!Object.values(n).length,g=(0,r.useMemo)(()=>(0,l.dn)((null==u?void 0:u.menus)||[]),[null==u?void 0:u.menus]),m=(0,r.useMemo)(()=>{let e=null==g?void 0:g.find(e=>c?t.includes(e.routPath):t===e.routPath);return null==p?void 0:p.find(t=>t.progId===(null==e?void 0:e.progId))},[g,null==u?void 0:u.menus,p,t]),x=(0,r.useMemo)(()=>{let e=(null==m?void 0:m.buttons)||[];return Object.entries(s).reduce((t,n)=>{var o;let[i,a]=n;return t[i]=(null==e?void 0:null===(o=e.find(e=>e.btnCd===a))||void 0===o?void 0:o.useYn)==="Y",t},{})},[m]);return{prog:m,buttons:(null==m?void 0:m.buttons)||[],acceptButtons:x}}},53476:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(89142),i=n(68998);let a=(0,o.Ay)(i.A)(e=>{let{theme:t}=e;return{boxShadow:"none",padding:"5px",paddingLeft:"5px",paddingRight:"10px",marginTop:"0.5rem"}})},90212:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(89142),i=n(68998);let a=(0,o.Ay)(i.A)(e=>{let{theme:t,wInput:n}=e;return{"input::placeholder":{color:"#757575",fontWeight:400,opacity:1},"input:::-ms-input-placeholder":{color:"#757575",fontWeight:400},"input::-ms-input-placeholder":{color:"#757575",fontWeight:400},".MuiAutocomplete-hasPopupIcon.MuiAutocomplete-hasClearIcon .MuiOutlinedInput-root":{paddingRight:"39px !important"},".input-select":{borderColor:"dark"===t.palette.mode?"#333":"#E2E8F0",background:"".concat("dark"===t.palette.mode?"#141414":"#e3e4e5"),height:"28px",fontSize:"12px",color:"dark"===t.palette.mode?"#fff":"#333",paddingRight:8,borderRadius:"4px",width:"100%",minWidth:"180px",svg:{width:20},".MuiSelect-select":{paddingRight:5}},".react-datepicker-wrapper":{background:"".concat("dark"===t.palette.mode?"#141414":"#fff")},".input-text":{overflow:"hidden",textOverflow:"ellipsis",borderColor:"#333",background:"".concat("dark"===t.palette.mode?"#141414":"#fff"),color:"".concat("dark"===t.palette.mode?"#fff":"#2F2B0F"),height:"28px",fontSize:"12px",borderRadius:"4px",fontWeight:"400",minWidth:"".concat(null!=n?n:180,"px"),width:"100%",".MuiAutocomplete-inputRoot .MuiAutocomplete-input":{minWidth:"180px",fontSize:"12px",color:"#2F2B0F",borderColor:"#333",height:"11px"}},".MuiTypography-root":{color:"#2F2B0F",fontWeight:500,fontSize:"12px"},".MuiOutlinedInput-input":{width:"100%",minWidth:"".concat(null!=n?n:180,"px !important"),padding:"8.5px 10px"},".MuiSelect-select[aria-expanded=false] ~ svg":{transform:"rotate(0deg)",transition:"transform 0.2s linear"},".MuiSelect-select[aria-expanded=true] ~ svg":{transform:"rotate(180deg)",transition:"transform 0.2s linear"}}})},1436:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(89142),i=n(63551);let a=(0,o.Ay)(i.A)(e=>{let{theme:t}=e;return{borderBottom:"1px solid ".concat("dark"===t.palette.mode?t.palette.customColors.darkLineColor:t.palette.customColors.lightLineColor),background:"dark"===t.palette.mode?"#141414":"#F8FAFC",[t.breakpoints.down("xl")]:{},[t.breakpoints.down("md")]:{},[t.breakpoints.down("sm")]:{}}})},71876:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(89142),i=n(64665);let a=(0,o.Ay)(i.A)(e=>{let{theme:t}=e;return{boxShadow:"none",border:"1px solid ".concat("dark"===t.palette.mode?t.palette.customColors.darkLineColor:t.palette.customColors.lightLineColor),background:"dark"===t.palette.mode?"#141414":"#FFFFFF",borderRadius:"6px",".MuiCardHeader-title":{fontSize:"12px !important",fontWeight:"700 !important",color:t.palette.primary.main},[t.breakpoints.down("xl")]:{},[t.breakpoints.down("md")]:{},[t.breakpoints.down("sm")]:{}}})},33761:(e,t,n)=>{n.r(t),n.d(t,{default:()=>e2});var o=n(95155),i=n(12115),a=n(89142),r=n(41265),l=n(90847),d=n(72325),s=n(9561),u=n(68998),p=n(69606),c=n(22282),g=n(83391),m=n(90212),x=n(10979),h=n(97975),v=n(13643),f=n(3835),b=n(7674),A=n(83458),w=n(53476),j=n(93658),M=n(68324),C=n(83737);let y=(0,a.Ay)(u.A)(e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",paddingTop:"2px",paddingBottom:"2px",justifyContent:"space-between",[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),k=(0,a.Ay)(u.A)(e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",gap:"0 0.5rem",[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),P=(0,a.Ay)(x.A)(e=>{let{theme:t}=e;return{[t.breakpoints.up("xl")]:{paddingLeft:"0"},[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),S=(0,a.Ay)(x.A)(e=>{let{theme:t}=e;return{paddingTop:"5px",paddingBottom:"5px",[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),I=(0,a.Ay)(s.A)(e=>{let{theme:t}=e;return{fontSize:"14px !important",lineHeight:"1.25rem",fontWeight:"600 !important",color:"dark"===t.palette.mode?"#fff !important":t.palette.primary.main+"!important",display:"inline-flex",alignItems:"center",gap:"0 0.5rem",[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),B=(0,a.Ay)(s.A)(e=>{let{theme:t}=e;return{color:"dark"===t.palette.mode?"#fff !important":"#1E293B",[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),F={progTitle:"",progCd:"",useYn:""},T=()=>{let{t:e}=(0,C.Bd)("common"),{control:t,handleSubmit:n,reset:i}=(0,p.mN)({defaultValues:F}),a=(0,g.wA)(),r=(0,g.d4)(e=>e.cfSys);return(0,o.jsx)(m.A,{children:(0,o.jsxs)("form",{onSubmit:n(e=>{a((0,v.du)({...r.params,...e}))}),children:[(0,o.jsxs)(y,{children:[(0,o.jsxs)(I,{children:[e("common.search"),(0,o.jsx)(f.A,{})]}),(0,o.jsxs)(k,{children:[(0,o.jsx)(c.A,{startIcon:r.loading?(0,o.jsx)(b.b,{width:13}):void 0,type:"submit",variant:"contained",size:"small",children:e("common.search")}),(0,o.jsx)(c.A,{startIcon:(0,o.jsx)(A.A,{}),variant:"outlined",size:"small",sx:{fontWeight:600},onClick:()=>{i(F),a((0,v.du)({...r.params,...F}))},children:e("common.reset")})]})]}),(0,o.jsx)(w.A,{children:(0,o.jsxs)(P,{direction:"row",alignItems:"center",flexWrap:"wrap",spacing:{xs:0,sm:5,md:10,xl:15},children:[(0,o.jsxs)(S,{direction:"row",alignItems:"center",spacing:2,children:[(0,o.jsx)(B,{variant:"body2",sx:{whiteSpace:"nowrap",fontWeight:"600 !important",fontSize:"12px"},children:e("pgMgnPage.programCode")}),(0,o.jsx)(p.xI,{name:"progCd",control:t,render:e=>{let{field:t}=e;return(0,o.jsx)(h.A,{...t,size:"small",className:"input-text",placeholder:"Enter"})}})]}),(0,o.jsxs)(S,{direction:"row",alignItems:"center",spacing:2,children:[(0,o.jsx)(B,{variant:"body2",sx:{whiteSpace:"nowrap",fontWeight:"600 !important",fontSize:"12px"},children:e("pgMgnPage.programName")}),(0,o.jsx)(p.xI,{name:"progTitle",control:t,render:e=>{let{field:t}=e;return(0,o.jsx)(h.A,{...t,size:"small",className:"input-text",placeholder:"Enter"})}})]}),(0,o.jsxs)(S,{direction:"row",alignItems:"center",spacing:2,children:[(0,o.jsx)(B,{variant:"body2",sx:{whiteSpace:"nowrap",fontWeight:"600 !important",fontSize:"12px"},children:e("pgMgnPage.status")}),(0,o.jsx)(p.xI,{name:"useYn",control:t,render:e=>{let{field:t}=e;return(0,o.jsx)(l.A,{...t,displayEmpty:!0,IconComponent:e=>(0,o.jsx)(j.A,{...e}),className:"icon-input input-select",inputProps:{MenuProps:{disableScrollLock:!0}},children:M.dn.map((e,t)=>(0,o.jsx)(d.A,{sx:{fontSize:"11px"},value:e.value,"data-role":e.label,children:e.label},t))})}})]})]})})]})})};var W=n(73490),D=n(75376),z=n(88648),N=n(79987),Y=n(42479),L=n(12693),R=n(78011),E=n(67320),H=n(86451);let O=(0,a.Ay)(x.A)(e=>{let{theme:t}=e;return{[t.breakpoints.up("xl")]:{},[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),V=(0,a.Ay)(x.A)(e=>{let{theme:t}=e;return{[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),q=(0,a.Ay)(s.A)(e=>{let{theme:t}=e;return{color:"dark"===t.palette.mode?"#fff !important":"#2F2B0F",whiteSpace:"nowrap",fontWeight:"600 !important",fontSize:"12px",minWidth:130,textAlign:"right",[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),U=e=>{let{t}=(0,C.Bd)("common"),{store:n,formState:a,setValue:r,reset:l,control:d,errors:s}=e,{activeInactOptions:u}=(0,H.n)(),p=(0,i.useMemo)(()=>!!n.selectedProgram,[JSON.stringify(n.selectedProgram)]),c=(0,i.useCallback)(async()=>{null!==n.selectedProgram&&Object.entries(n.selectedProgram).forEach(e=>{let[t,n]=e;r(t,n)})},[r,n.selectedProgram]),g=(0,i.useCallback)(()=>{l(a)},[]);return(0,i.useEffect)(()=>{null!==n.selectedProgram?c():g()},[c,g,n.selectedProgram]),(0,o.jsx)(E.A,{children:(0,o.jsxs)(O,{direction:"column",spacing:2,children:[(0,o.jsxs)(V,{direction:"row",alignItems:"start",spacing:2,children:[(0,o.jsxs)(q,{variant:"body2",children:[(0,o.jsx)("span",{style:{color:"#CF1322"},children:"*"}),t("pgMgnPage.programCode")]}),(0,o.jsx)(R.A,{name:"progCd",control:d,rules:{required:!0},controlType:"input",inputProps:{disabled:p},errMsg:s.progCd&&t("message.requiredField")})]}),(0,o.jsxs)(V,{direction:"row",alignItems:"start",spacing:2,children:[(0,o.jsxs)(q,{variant:"body2",children:[(0,o.jsx)("span",{style:{color:"#CF1322"},children:"*"})," ",t("pgMgnPage.programName")]}),(0,o.jsx)(R.A,{name:"progTitle",control:d,controlType:"input",rules:{required:!0},errMsg:s.progTitle&&t("message.requiredField")})]}),(0,o.jsxs)(V,{direction:"row",alignItems:"start",spacing:2,children:[(0,o.jsx)(q,{variant:"body2",children:t("pgMgnPage.description")}),(0,o.jsx)(R.A,{name:"progDesc",control:d,controlType:"textarea"})]}),(0,o.jsxs)(V,{direction:"row",alignItems:"center",spacing:2,children:[(0,o.jsx)(q,{variant:"body2",children:t("pgMgnPage.status")}),(0,o.jsx)(R.A,{name:"useYn",control:d,rules:{required:!0},controlType:"radio",radioOptions:u})]})]})})};var _=n(19307),G=n(83238),X=n(45196),J=n(95801),Q=n(74121),$=n(71876),Z=n(1436),K=n(4867),ee=n(19376),et=n(5601),en=n(35173),eo=n(41596),ei=n(62930),ea=n(46850),er=n(22734),el=n(64665),ed=n(49883),es=n(35761),eu=n(36417),ep=n(894),ec=n(27753),eg=n(63551),em=n(26214);n(57028);var ex=n(37830),eh=n(31070),ev=n(24570),ef=n(72441),eb=n(3417);let eA={progId:"",btnId:"",btnCode:"",btnNm:"",useYn:"Y"},ew=(0,a.Ay)(x.A)(e=>{let{theme:t}=e;return{[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),ej=(0,a.Ay)(el.A)(e=>{let{theme:t}=e;return{boxShadow:"none",backgroundColor:t.palette.common.dark,border:"1px solid "+t.palette.common.borderDark,borderRadius:"4px !important",minHeight:"182px",".MuiCardHeader-title":{fontSize:"12px !important",fontWeight:"700 !important",color:t.palette.primary.main},[t.breakpoints.down("xl")]:{},[t.breakpoints.down("md")]:{},[t.breakpoints.down("sm")]:{}}}),eM=(0,a.Ay)(c.A)(e=>{let{theme:t}=e;return{minWidth:68,paddingLeft:0,paddingRight:0,fontSize:"12px",fontWeight:600,".MuiButton-startIcon":{marginRight:"2px"},"&.submit":{".MuiButton-startIcon":{position:"absolute"}},[t.breakpoints.down("xl")]:{},[t.breakpoints.down("md")]:{}}}),eC=(0,a.Ay)(s.A)(e=>{let{theme:t}=e;return{color:t.palette.primary.main,[t.breakpoints.down("xl")]:{},[t.breakpoints.down("md")]:{}}}),ey=(0,i.forwardRef)((e,t)=>(0,o.jsx)(ed.A,{ref:t,...e,timeout:50})),ek=e=>{let{t}=(0,C.Bd)("common"),n=(0,eb.GV)(e=>e.button),a=(0,es.A)(),{dataDict:l,isOpenModal:d,handleModal:u,handleSubmiData:c,btnList:g}=e,{activeInactOptions:m}=(0,H.n)(),{control:x,setValue:h,clearErrors:v,handleSubmit:f,reset:b,formState:{errors:A},watch:w}=(0,p.mN)({defaultValues:eA,mode:"onSubmit"}),j=(0,i.useMemo)(()=>{var e,t;return null===(t=n.buttons)||void 0===t?void 0:null===(e=t.filter(e=>l?(null==e?void 0:e.useYn)==="Y":!(null==g?void 0:g.some(t=>(null==t?void 0:t.btnId)===(null==e?void 0:e.id)))&&(null==e?void 0:e.useYn)==="Y"))||void 0===e?void 0:e.map(e=>({label:"".concat(null==e?void 0:e.btnTitle," (").concat(null==e?void 0:e.btnCode,")"),value:null==e?void 0:e.id}))},[n.buttons,g,l]),M=(0,i.useMemo)(()=>{let e=n.buttons,t=null==e?void 0:e.find(e=>(null==e?void 0:e.btnCode)==="B5"),o=null==e?void 0:e.find(e=>(null==e?void 0:e.btnCode)==="B4");return[null==t?void 0:t.id,null==o?void 0:o.id].includes(null==l?void 0:l.btnId)},[l,n.buttons]),y=(0,i.useMemo)(()=>!!l,[l]),k=(0,i.useMemo)(()=>{var e,t;let o=null===(e=n.buttons)||void 0===e?void 0:e.find(e=>(null==e?void 0:e.id)===w("btnId"));return!(null==o?void 0:null===(t=o.btnCode)||void 0===t?void 0:t.includes("C"))},[n.buttons,w("btnId")]),P=async()=>{null==l&&v(),u(),await (0,ef.QN)(300)},S=(0,i.useCallback)(async()=>{null!==l&&Object.entries(l).forEach(e=>{let[t,n]=e;h(t,n)})},[h,l]),I=(0,i.useCallback)(()=>{b(eA)},[]);return(0,i.useEffect)(()=>{null!==l?S():I()},[d,S,I,l]),(0,o.jsxs)(eh.A,{fullWidth:!0,open:d,maxWidth:"mdx",onClose:P,TransitionComponent:ey,disableScrollLock:!0,children:[(0,o.jsx)(eu.A,{sx:{padding:"0.8rem",paddingBottom:0,borderBottom:"1px solid "+a.palette.common.borderDark,backgroundColor:a.palette.common.dark},children:(0,o.jsx)(eC,{sx:{mb:3,fontSize:16,fontWeight:600,textAlign:"center"},children:t(l?"pgMgnPage.title.editButton":"pgMgnPage.title.addButton")})}),(0,o.jsx)(ep.A,{"aria-label":"close",onClick:P,sx:{position:"absolute",right:5,top:5,color:e=>e.palette.grey[500]},children:(0,o.jsx)(ex.A,{})}),(0,o.jsx)(ev.A,{children:(0,o.jsxs)("form",{onSubmit:f(()=>c(w())),autoComplete:"off",children:[(0,o.jsx)(ec.A,{sx:{position:"relative",overflowY:"visible",padding:"1rem",backgroundColor:a.palette.common.dark},children:(0,o.jsxs)(ej,{children:[(0,o.jsx)(eg.A,{sx:{backgroundColor:a.palette.common.semiDark,padding:"0.85rem",paddingLeft:"10px",paddingRight:"10px",borderBottom:"1px solid "+a.palette.common.borderDark},title:t("pgMgnPage.title.buttonInfo")}),(0,o.jsx)(Y.A,{sx:{backgroundColor:a.palette.common.dark,padding:"0.5rem !important"},children:(0,o.jsx)(E.A,{children:(0,o.jsxs)(r.A,{container:!0,columnSpacing:10,rowSpacing:2,children:[(0,o.jsx)(r.A,{size:{xs:12,md:6},children:(0,o.jsxs)(ew,{direction:"row",alignItems:"start",spacing:2,children:[(0,o.jsxs)(s.A,{variant:"body2",sx:{whiteSpace:"nowrap",color:"#fff !important",fontWeight:"600 !important",fontSize:"12px",paddingTop:"5px",minWidth:100,textAlign:"right"},children:[(0,o.jsx)("span",{style:{color:"#CF1322"},children:"*"})," ",t("pgMgnPage.buttonCode")]}),(0,o.jsx)(R.A,{name:"btnId",control:x,controlType:"select",disabled:y,rules:{required:!0},selectOptions:j,selectProps:{onChange:e=>{var t;let o=e.target.value,i=null===(t=n.buttons)||void 0===t?void 0:t.find(e=>e.id===o);h("btnId",null==i?void 0:i.id),h("btnCode",null==i?void 0:i.btnCode),h("btnNm",null==i?void 0:i.btnTitle)}},errMsg:A.btnId&&t("message.requiredField")})]})}),(0,o.jsx)(r.A,{size:{xs:12,md:6},children:(0,o.jsxs)(ew,{direction:"row",alignItems:"start",spacing:2,children:[(0,o.jsxs)(s.A,{variant:"body2",sx:{whiteSpace:"nowrap",color:"#fff !important",fontWeight:"600 !important",fontSize:"12px",paddingTop:"5px",minWidth:100,textAlign:"right"},children:[(0,o.jsx)("span",{style:{color:"#CF1322"},children:"*"}),t("pgMgnPage.name")]}),(0,o.jsx)(R.A,{name:"btnNm",control:x,controlType:"input",disabled:k,rules:{required:!0},errMsg:A.btnNm&&t("message.requiredField")})]})}),(0,o.jsx)(r.A,{size:{xs:12,md:6},children:(0,o.jsxs)(ew,{direction:"row",alignItems:"center",spacing:2,children:[(0,o.jsx)(s.A,{variant:"body2",sx:{whiteSpace:"nowrap",color:"#fff !important",fontWeight:"600 !important",fontSize:"12px",minWidth:100,textAlign:"right"},children:t("pgMgnPage.status")}),(0,o.jsx)(R.A,{wrapStyles:{display:"flex",alignItems:"center"},name:"useYn",control:x,controlType:"radio",disabled:M,radioOptions:m})]})})]})})})]})}),(0,o.jsx)(em.A,{sx:{pb:{sm:3},pt:"0.7rem !important",justifyContent:"flex-end",borderTop:"1px solid "+a.palette.common.borderDark,paddingLeft:"1rem",paddingRight:"1rem",backgroundColor:a.palette.common.dark},children:(0,o.jsx)(eM,{size:"small",variant:"contained",className:"submit",type:"submit",children:t("button.save")})})]})})]})};var eP=n(22678),eS=n(16508),eI=n(86496);let eB={files:[],fileId:"",fileClassType:"",dispYn:"Y",isAddNewFile:!1},eF=(0,a.Ay)(x.A)(e=>{let{theme:t}=e;return{[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),eT=(0,a.Ay)(el.A)(e=>{let{theme:t}=e;return{boxShadow:"none",border:"0",borderRadius:"0 !important",".MuiCardHeader-title":{fontSize:"12px !important",fontWeight:"700 !important",color:t.palette.primary.main},[t.breakpoints.down("xl")]:{},[t.breakpoints.down("md")]:{},[t.breakpoints.down("sm")]:{}}}),eW=(0,a.Ay)(c.A)(e=>{let{theme:t}=e;return{minWidth:68,paddingLeft:0,paddingRight:0,fontSize:"12px",fontWeight:600,".MuiButton-startIcon":{marginRight:"2px"},"&.submit":{".MuiButton-startIcon":{position:"absolute"}},[t.breakpoints.down("xl")]:{},[t.breakpoints.down("md")]:{}}}),eD=(0,a.Ay)(s.A)(e=>{let{theme:t}=e;return{color:t.palette.primary.main,[t.breakpoints.down("xl")]:{},[t.breakpoints.down("md")]:{}}}),ez=(0,i.forwardRef)((e,t)=>(0,o.jsx)(ed.A,{ref:t,...e,timeout:50})),eN=e=>{let{dataDict:t,isOpenModal:n,handleModal:a,handleUpdateProgManuData:r}=e,{t:l}=(0,C.Bd)("common"),d=(0,Q.d)(),u=(0,es.A)(),{control:c,setValue:g,clearErrors:m,handleSubmit:h,reset:v,watch:f,formState:{errors:b}}=(0,p.mN)({defaultValues:{...eB},mode:"onSubmit"}),A=async()=>{null==t&&m(),v(eB),a(),await (0,ef.QN)(300)},w=(0,i.useCallback)(async()=>{null!==t&&(Object.entries(t).forEach(e=>{let[t,n]=e;g(t,n),"dispYn"===t&&g(t,"Y"===n)}),g("files",null==t?void 0:t.files))},[g,t]),j=(0,i.useCallback)(()=>{v(eB)},[]),M=async e=>{var t,n,o,i;if(!(null==e?void 0:e.isAddNewFile))return r({...e});let a=new FormData;a.append("fileClassType",null==e?void 0:e.fileClassType),null==e||null===(t=e.files)||void 0===t||t.forEach(e=>{a.append("files",e)});let s=await ea.YO.uploadFile(a);if(!(null==s?void 0:null===(n=s[1])||void 0===n?void 0:n.data))return d(l("commonMsg.uploadFileFailed"),"error");let u=null==s?void 0:null===(i=s[1])||void 0===i?void 0:null===(o=i.data)||void 0===o?void 0:o.id;r({...e,fileId:u})};return(0,i.useEffect)(()=>{null!==t?w():j()},[n,w,j,t]),(0,o.jsxs)(eh.A,{fullWidth:!0,open:n,maxWidth:"xs",onClose:A,TransitionComponent:ez,disableScrollLock:!0,children:[(0,o.jsx)(eu.A,{sx:{padding:"0.8rem",paddingBottom:0,borderBottom:"1px solid "+u.palette.common.borderDark,backgroundColor:u.palette.common.semiDark},children:(0,o.jsx)(eD,{sx:{mb:3,fontSize:16,fontWeight:600,textAlign:"center"},children:l("pgMgnPage.title.uploadDocument")})}),(0,o.jsx)(ep.A,{"aria-label":"close",onClick:A,sx:{position:"absolute",right:5,top:5,color:e=>e.palette.grey[500]},children:(0,o.jsx)(ex.A,{})}),(0,o.jsx)(ev.A,{children:(0,o.jsxs)("form",{onSubmit:h(M),autoComplete:"off",children:[(0,o.jsx)(ec.A,{sx:{position:"relative",overflowY:"visible",padding:"1rem",backgroundColor:u.palette.common.semiDark},children:(0,o.jsxs)(x.A,{direction:"column",spacing:3,marginBottom:2,children:[(0,o.jsx)(eT,{children:(0,o.jsx)(Y.A,{sx:{backgroundColor:u.palette.common.semiDark,padding:"0rem !important"},children:(0,o.jsxs)(eP.A,{fullWidth:!0,children:[(0,o.jsx)(p.xI,{name:"files",control:c,rules:{required:!0},render:e=>{let{field:t}=e;return(0,o.jsx)(eI.A,{initialFiles:t.value,type:"document-frame",acceptType:"DOCUMENT",multiple:!0,onChange:e=>{g("files",e),g("isAddNewFile",!0)}})}}),b.files&&(0,o.jsx)(eS.A,{sx:{color:"error.main"},children:l("message.requiredField")})]})})}),(0,o.jsxs)(eF,{direction:"row",alignItems:"start",spacing:2,children:[(0,o.jsx)(s.A,{variant:"body2",sx:{whiteSpace:"nowrap",color:u.palette.common.white,fontWeight:"600 !important",fontSize:"12px",minWidth:60},children:l("pgMgnPage.display")}),(0,o.jsx)(R.A,{wrapStyles:{display:"flex",alignItems:"center"},name:"dispYn",control:c,controlType:"switch"})]})]})}),(0,o.jsx)(em.A,{sx:{pb:{sm:3},pt:"0.7rem !important",justifyContent:"flex-end",borderTop:"1px solid "+u.palette.common.borderDark,paddingLeft:"1rem",paddingRight:"1rem",backgroundColor:u.palette.common.semiDark},children:(0,o.jsx)(eW,{size:"small",variant:"contained",className:"submit",type:"submit",children:l("button.save")})})]})})]})},eY=(0,a.Ay)(x.A)(e=>{let{theme:t}=e;return{paddingBottom:"10px",[t.breakpoints.down("xl")]:{},[t.breakpoints.down("md")]:{}}}),eL=(0,a.Ay)(s.A)(e=>{let{theme:t}=e;return{fontSize:"14px",lineHeight:"1.25rem",fontWeight:600,color:null==t?void 0:t.palette.primary.main,display:"flex",alignItems:"center",gap:3,[t.breakpoints.down("xl")]:{},[t.breakpoints.down("md")]:{}}}),eR=(0,a.Ay)(s.A)(e=>{let{theme:t}=e;return{color:"dark"===t.palette.mode?"#fff":t.palette.text.textBlack,fontSize:"0.875rem",fontWeight:400,lineHeight:"1.25rem"}}),eE=e=>{var t,n,a;let{t:r}=(0,C.Bd)("common"),{type:l,height:d}=e,s=(0,g.wA)(),u=(0,Q.d)(),{confirm:p,onConfirm:m,onClose:h}=(0,X.S)(),f=(0,i.useRef)(null),b=(0,g.d4)(e=>e.program),[A,{on:w,off:j}]=(0,eo.C)(),[M,y]=(0,i.useState)(null),k=null==b?void 0:b.manuDetail,P=(null==b?void 0:null===(t=b.programDetail)||void 0===t?void 0:t.id)||(null==b?void 0:null===(n=b.selectedProgram)||void 0===n?void 0:n.id),{activeInactOptions:S}=(0,H.n)(),I=(0,i.useMemo)(()=>{var e;return"func-button"===l?(null==b?void 0:b.btnList)||[]:(null===(e=b.manuDetail)||void 0===e?void 0:e.files)||[]},[b.programDetail,l,b.btnList,b.manuDetail]),B=(0,i.useMemo)(()=>[{headerName:"#",maxWidth:60,width:60,cellClass:"text-center",valueGetter:e=>{var t,n;return(null!==(n=null===(t=e.node)||void 0===t?void 0:t.rowIndex)&&void 0!==n?n:0)+1}},{field:"permissionCode",headerName:r("pgMgnPage.code")},{field:"btnNm",headerName:r("pgMgnPage.name")},{field:"useYn",headerName:r("pgMgnPage.status"),maxWidth:200,cellStyle:{display:"flex",justifyContent:"center",alignItems:"center"},valueFormatter:e=>{var t;return null===(t=S.find(t=>t.value===e.value))||void 0===t?void 0:t.label}}],[r]),F=(0,i.useMemo)(()=>[{editable:!1,initialWidth:80,maxWidth:80,cellClass:"ag-cell-center item-center",headerClass:"item-center",checkboxSelection:!0,headerCheckboxSelection:!0,cellEditor:"agCheckboxCellEditor"},{headerName:"#",maxWidth:60,width:60,cellClass:"text-center",valueGetter:e=>{var t,n;return(null!==(n=null===(t=e.node)||void 0===t?void 0:t.rowIndex)&&void 0!==n?n:0)+1}},{field:"fileName",headerName:r("pgMgnPage.documentName")},{field:"",maxWidth:200,headerName:r("button.action"),cellStyle:{display:"flex",justifyContent:"center",alignItems:"center"},cellRenderer:e=>(0,o.jsx)(c.A,{type:"button",size:"small",onClick:()=>N(e.data),children:(0,o.jsx)(er.U01,{color:ei.T.primary.main})})}],[r]),T=()=>{var e;let t=[];return null===(e=f.current)||void 0===e||e.api.getSelectedRows().forEach(e=>{t.push(e.id)}),t},W=async e=>{var t,n;let o={...e,btnId:M?null==M?void 0:M.btnId:null==e?void 0:e.btnId,progId:P,useYn:(0,K.XH)(null==e?void 0:e.useYn)||"Y"};if("func-button"===l){let e=M?await s(v.iB.updateProgBtnList({id:null==o?void 0:o.id,data:o})):await s(v.iB.addProgBtnList(o)),n=(0,ee.FT)(e);if(null==n?void 0:n.isFailed)return u(null!==(t=null==n?void 0:n.resultMsg)&&void 0!==t?t:M?r("pgMgnPage.msg.updateButtonFailed"):r("pgMgnPage.msg.addButtonFailed"),Q.x.Error,{hasIcon:!0});u(M?r("pgMgnPage.msg.updateButtonSuccess"):r("pgMgnPage.msg.addButtonSuccess"),Q.x.Success,{hasIcon:!0}),j(),y(null)}else{let e=M?await s((0,v.$4)({...o})):await s((0,v.BV)({...o})),t=(0,ee.FT)(e);if(null==t?void 0:t.isFailed)return u(null!==(n=null==t?void 0:t.resultMsg)&&void 0!==n?n:M?r("pgMgnPage.msg.updateDocumentFailed"):r("pgMgnPage.msg.addDocumentFailed"),Q.x.Error,{hasIcon:!0});u(M?r("pgMgnPage.msg.updateDocumentSuccess"):r("pgMgnPage.msg.addDocumentSuccess"),Q.x.Success,{hasIcon:!0}),j(),y(null)}},D=async e=>{var t,n,o,i,a;let l={...k,...e,progId:P,dispYn:(0,K.XH)(null==e?void 0:e.dispYn)||"Y",useYn:(0,K.XH)(null==e?void 0:e.useYn)||"Y"},d=(null==b?void 0:null===(t=b.selectedProgram)||void 0===t?void 0:t.progManuId)?await s(v.iB.updateProgManuList({id:null==b?void 0:null===(n=b.selectedProgram)||void 0===n?void 0:n.progManuId,data:l})):await s(v.iB.addProgManuList(l)),p=(0,ee.FT)(d);if(null==p?void 0:p.isFailed)return u(null!==(a=null==p?void 0:p.resultMsg)&&void 0!==a?a:(null==b?void 0:null===(o=b.selectedProgram)||void 0===o?void 0:o.progManuId)?r("pgMgnPage.msg.updatePgManuFailed"):r("pgMgnPage.msg.addPgManuFailed"),Q.x.Error,{hasIcon:!0});u((null==b?void 0:null===(i=b.selectedProgram)||void 0===i?void 0:i.progManuId)?r("pgMgnPage.msg.updatePgManuSuccess"):r("pgMgnPage.msg.addPgManuSuccess"),Q.x.Success,{hasIcon:!0}),j(),y(null)},z=async()=>{var e,t,n,o,i;if("func-button"===l){let n=await s(v.iB.updateProgBtnList({id:null==p?void 0:null===(e=p.data)||void 0===e?void 0:e.id,data:{...p.data,useYn:"N",progId:P}})),o=(0,ee.FT)(n);if(null==o?void 0:o.isFailed)return u(null!==(t=null==o?void 0:o.resultMsg)&&void 0!==t?t:r("pgMgnPage.msg.deleteButtonFailed"),Q.x.Error,{hasIcon:!0});u(r("pgMgnPage.msg.deleteButtonSuccess"),Q.x.Success,{hasIcon:!0}),j(),y(null),h()}else{let e=null===(n=f.current)||void 0===n?void 0:n.api.getSelectedRows();if(!(null==e?void 0:e.length))return;let t=await s(v.iB.deleteFileInProgManuList(null==e?void 0:null===(o=e[0])||void 0===o?void 0:o.id)),a=(0,ee.FT)(t);if(null==a?void 0:a.isFailed)return u(null!==(i=null==a?void 0:a.resultMsg)&&void 0!==i?i:r("pgMgnPage.msg.deleteDocumentFailed"),Q.x.Error,{hasIcon:!0});u(r("pgMgnPage.msg.deleteDocumentSuccess"),Q.x.Success,{hasIcon:!0}),j(),y(null),h()}},N=async e=>{var t,n,o,i,a;let l=null===(t=f.current)||void 0===t?void 0:t.api.getSelectedRows();if(!(null==l?void 0:null===(n=l[0])||void 0===n?void 0:n.id))return u(r("commonMsg.noFileToDownload"),Q.x.Warning);await ea.YO.downloadFile(null==l?void 0:null===(o=l[0])||void 0===o?void 0:o.id,null==l?void 0:null===(i=l[0])||void 0===i?void 0:i.fileName,{downloaded:!0,fileType:null==l?void 0:null===(a=l[0])||void 0===a?void 0:a.fileType})};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(eY,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,o.jsxs)(eL,{children:["func-button"===l?r("pgMgnPage.title.funcButton"):r("pgMgnPage.title.documentList"),(0,o.jsxs)(eR,{children:[(null==I?void 0:I.length)||0," record(s)"]})]}),(0,o.jsxs)(x.A,{direction:"row",alignItems:"center",spacing:2.4,children:["manual"===l&&(0,o.jsx)(c.A,{startIcon:(0,o.jsx)(en.A,{}),color:"error",size:"small",type:"button",variant:"outlined",onClick:()=>{var e;if(!(null===(e=T())||void 0===e?void 0:e.length))return u(r("pgMgnPage.msg.pleaseSelectDocumentToDelete"),Q.x.Warning);m({mode:"delete",message:r("pgMgnPage.msg.areYouSureWantToDeleteDocument"),isOpen:!0,title:r("pgMgnPage.title.deleteDocument")})},children:r("button.delete")}),"func-button"===l&&(0,o.jsx)(c.A,{startIcon:(0,o.jsx)(L.A,{}),size:"small",variant:"contained",onClick:()=>{y(null),w()},children:r("button.add")}),"manual"===l&&(null==b?void 0:null===(a=b.selectedProgram)||void 0===a?void 0:a.progManuId)&&(0,o.jsx)(c.A,{startIcon:(0,o.jsx)(L.A,{}),size:"small",variant:"contained",onClick:()=>{y(null),w()},children:r("button.upload")})]})]}),(0,o.jsx)(_.A,{ref:f,columnDefs:"func-button"===l?B:F,rowData:I,containerStyle:{height:d+"px"},defaultColDef:{flex:1},rowSelection:"single",onRowDoubleClicked:e=>{y(null==e?void 0:e.data),w()}}),(0,o.jsx)(ek,{isOpenModal:A&&"func-button"===l,store:b,dispatch:s,btnList:I,handleModal:()=>{j(),y(null)},handleSubmiData:W,dataDict:M}),(0,o.jsx)(eN,{isOpenModal:A&&"manual"===l,store:b,dispatch:s,handleModal:()=>{j(),y(null)},handleUpdateProgManuData:D,dataDict:b.manuDetail}),(0,o.jsx)(G.A,{isOpen:p.isOpen,onOk:()=>{"delete"===p.mode&&z()},onCancel:h,type:"delete"===p.mode?"error":"warn",title:p.title,content:p.message})]})},eH=(0,a.Ay)(x.A)(e=>{let{theme:t}=e;return{[t.breakpoints.up("xl")]:{},[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),eO=(0,a.Ay)(x.A)(e=>{let{theme:t}=e;return{[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),eV=(0,a.Ay)(s.A)(e=>{let{theme:t}=e;return{color:"dark"===t.palette.mode?"#fff !important":"#2F2B0F",[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),eq=e=>{var t;let{store:n,formState:a,setValue:r,reset:l,control:d,errors:s}=e,{t:u}=(0,C.Bd)("common"),p=(0,i.useCallback)(async()=>{if(null!==n.manuDetail){var e;l({...n.manuDetail,progCd:null===(e=n.selectedProgram)||void 0===e?void 0:e.progCd})}},[r,n.selectedProgramm]),c=(0,i.useCallback)(()=>{var e;l({...a,progCd:null===(e=n.selectedProgram)||void 0===e?void 0:e.progCd})},[n.selectedProgram]);return(0,i.useEffect)(()=>{var e;(null===(e=n.selectedProgram)||void 0===e?void 0:e.progManuId)!==null?p():c()},[null===(t=n.selectedProgram)||void 0===t?void 0:t.progManuId]),(0,o.jsx)(E.A,{children:(0,o.jsxs)(eH,{direction:"column",spacing:2,children:[(0,o.jsxs)(eO,{direction:"row",alignItems:"start",spacing:2,children:[(0,o.jsxs)(eV,{variant:"body2",sx:{whiteSpace:"nowrap",fontWeight:"600 !important",fontSize:"12px",paddingTop:"5px",minWidth:100,textAlign:"right"},children:[(0,o.jsx)("span",{style:{color:"#CF1322"},children:"*"}),u("pgMgnPage.programCode")]}),(0,o.jsx)(R.A,{name:"progCd",control:d,controlType:"input",rules:{required:!0},inputProps:{disabled:!0},errMsg:s.progCd&&u("message.requiredField")})]}),(0,o.jsxs)(eO,{direction:"row",alignItems:"start",spacing:2,children:[(0,o.jsxs)(eV,{variant:"body2",sx:{whiteSpace:"nowrap",fontWeight:"600 !important",fontSize:"12px",paddingTop:"5px",minWidth:100,textAlign:"right"},children:[(0,o.jsx)("span",{style:{color:"#CF1322"},children:"*"}),u("pgMgnPage.manualTitle")]}),(0,o.jsx)(R.A,{name:"progManuTitle",control:d,rules:{required:!0},controlType:"input",errMsg:s.progManuTitle&&u("message.requiredField")})]}),(0,o.jsxs)(eO,{direction:"row",alignItems:"start",spacing:2,children:[(0,o.jsx)(eV,{variant:"body2",sx:{whiteSpace:"nowrap",fontWeight:"600 !important",fontSize:"12px",paddingTop:"0",minWidth:100,textAlign:"right"},children:u("pgMgnPage.description")}),(0,o.jsx)(R.A,{name:"progManuDesc",control:d,controlType:"textarea"})]}),(0,o.jsx)(eO,{sx:{marginTop:"0.8rem !important"},direction:"row",alignItems:"start",spacing:2,children:(0,o.jsx)(eV,{variant:"body2",sx:{whiteSpace:"nowrap",fontWeight:"600 !important",fontSize:"12px",paddingTop:"0",minWidth:100,textAlign:"right"},children:"\xa0"})})]})})};function eU(e){let{children:t,value:n,index:i,...a}=e;return(0,o.jsx)("div",{role:"tabpanel",hidden:n!==i,id:"simple-tabpanel-".concat(i),"aria-labelledby":"simple-tab-".concat(i),...a,children:n===i&&(0,o.jsx)(u.A,{children:t})})}function e_(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}let eG={progCd:"",progTitle:"",progDesc:"",useYn:"Y",desc:""},eX={progCd:"",useYn:"Y",rowFlag:"",progId:"",fileId:"",progManuTitle:"",programTitle:"",menuManuTitle:"",progManuDesc:"",dispYn:"Y",dispOrd:0,desc:""},eJ=(0,a.Ay)(z.A)(e=>{let{theme:t}=e;return{minHeight:24,".MuiTabs-indicator":{height:1},".Mui-selected":{fontWeight:600},[t.breakpoints.down("xl")]:{},[t.breakpoints.down("md")]:{}}}),eQ=(0,a.Ay)(N.A)(e=>{let{theme:t}=e;return{fontSize:"12px",textTransform:"none",fontWeight:600,minHeight:24,minWidth:60,padding:0,marginRight:"7px",color:"dark"===t.palette.mode?"#fff":"#1E293B",[t.breakpoints.down("xl")]:{},[t.breakpoints.down("md")]:{}}}),e$=(0,a.Ay)(x.A)(e=>{let{theme:t}=e;return{paddingBottom:"10px",[t.breakpoints.down("xl")]:{},[t.breakpoints.down("md")]:{}}}),eZ=(0,a.Ay)("h3")(e=>{let{theme:t}=e;return{fontSize:"var(--font-size-2)",lineHeight:"var(--font-line-height-2)",fontWeight:600,color:t.palette.primary.main,span:{fontSize:"var(--font-size-1)",lineHeight:"var(--font-line-height-1)",color:t.palette.common.white,fontWeight:400},["@media (min-width: ".concat(W.pv,"px) and (max-width: 1439px)")]:{},[t.breakpoints.down("lg")]:{fontSize:"2.5rem",lineHeight:"2.75rem"},[t.breakpoints.down("md")]:{fontSize:"1.75rem",lineHeight:"2rem"},[t.breakpoints.down("sm")]:{fontSize:"2rem",lineHeight:"2.5rem"}}}),eK=(0,a.Ay)($.A)(e=>{let{theme:t}=e;return{boxShadow:"none",height:"calc(100% - 50px)",overflowY:"auto",".MuiCardHeader-title":{fontSize:"12px !important",fontWeight:"700 !important",color:t.palette.primary.main},[t.breakpoints.down("xl")]:{},[t.breakpoints.down("md")]:{},[t.breakpoints.down("sm")]:{}}}),e0=()=>{let e=(0,g.wA)(),t=(0,Q.d)(),{t:n}=(0,C.Bd)("common"),{confirm:a,onConfirm:l,onClose:d}=(0,X.S)(),{acceptButtons:s}=(0,J.e)(),{activeInactOptions:m}=(0,H.n)(),[h,f]=(0,i.useState)(!0),{control:A,setValue:w,handleSubmit:j,reset:y,getValues:k,formState:{errors:P}}=(0,p.mN)({defaultValues:eG,mode:"onSubmit"}),{control:S,setValue:I,handleSubmit:B,reset:F,getValues:T,formState:{errors:z}}=(0,p.mN)({defaultValues:eX,mode:"onSubmit"}),N=(0,g.d4)(e=>e.program),R=(0,i.useRef)(!1),[E,O]=(0,i.useState)({pageSize:W.WU,page:0}),V=(0,i.useRef)(null),{height:q,wHalfMain:$}=(0,D.A)(),[en,eo]=(0,i.useState)(0),ei=(0,i.useRef)($),ea=(0,i.useMemo)(()=>[{headerName:"#",maxWidth:60,width:60,cellClass:"text-center",valueGetter:e=>{var t,n;return(null!==(n=null===(t=e.node)||void 0===t?void 0:t.rowIndex)&&void 0!==n?n:0)+1}},{field:"progCd",headerName:n("pgMgnPage.programCode"),cellClass:"text-center"},{field:"progTitle",headerName:n("pgMgnPage.programName"),cellClass:"text-center"},{field:"useYn",headerName:n("pgMgnPage.status"),cellClass:"text-center",valueFormatter:e=>{var t;return null===(t=m.find(t=>t.value===e.value))||void 0===t?void 0:t.label}}],[n,null==N?void 0:N.progsMeta]),er=async t=>{var n,o,i,a,r,l,d,s,u;if(f(!1),e((0,v.L2)({...null==t?void 0:t.data})),e((0,v.Jm)(null==t?void 0:null===(n=t.data)||void 0===n?void 0:n.id)),e(v.iB.getProgBtnList({...M.Cu,progId:null==t?void 0:null===(o=t.data)||void 0===o?void 0:o.id})),null==t?void 0:null===(i=t.data)||void 0===i?void 0:i.progManuId){let n=await e(v.iB.getProgManuDetail(null==t?void 0:null===(a=t.data)||void 0===a?void 0:a.id));F({...null==n?void 0:null===(l=n.payload)||void 0===l?void 0:null===(r=l[1])||void 0===r?void 0:r.data,progCd:null==t?void 0:null===(d=t.data)||void 0===d?void 0:d.progCd})}else e(v.iB.resetManuDetail({...eX,progCd:null==t?void 0:null===(s=t.data)||void 0===s?void 0:s.progCd})),F({...eX,progCd:null==t?void 0:null===(u=t.data)||void 0===u?void 0:u.progCd})},el=()=>{y(),F(eX),f(!0),e((0,v.L2)(null)),e(v.iB.resetDetailData())},ed=async()=>{var o;let i=k(),a={...i,useYn:(0,K.XH)(null==i?void 0:i.useYn)},r=h?await e(v.iB.addProgram(a)):await e(v.iB.updateProgram(a)),l=(0,ee.FT)(r);if(null==l?void 0:l.isFailed)return t(null!==(o=null==l?void 0:l.resultMsg)&&void 0!==o?o:h?n("pgMgnPage.msg.addPgFailed"):n("pgMgnPage.msg.updatePgFailed"),Q.x.Error,{hasIcon:!0});t(h?n("pgMgnPage.msg.addPgSuccess"):n("pgMgnPage.msg.updatePgSuccess"),Q.x.Success,{hasIcon:!0})},es=async()=>{var o,i,a,r,l,d;let s=T(),u={...s,useYn:(0,K.XH)(null==s?void 0:s.useYn),dispYn:(0,K.XH)(null==s?void 0:s.dispYn),progId:null==N?void 0:null===(o=N.selectedProgram)||void 0===o?void 0:o.id},p=(null==N?void 0:null===(i=N.selectedProgram)||void 0===i?void 0:i.progManuId)?await e(v.iB.updateProgManuList({id:null==N?void 0:null===(a=N.selectedProgram)||void 0===a?void 0:a.progManuId,data:u})):await e(v.iB.addProgManuList(u)),c=(0,ee.FT)(p);if(null==c?void 0:c.isFailed)return t(null!==(d=null==c?void 0:c.resultMsg)&&void 0!==d?d:(null==N?void 0:null===(r=N.selectedProgram)||void 0===r?void 0:r.progManuId)?n("pgMgnPage.msg.updatePgManuFailed"):n("pgMgnPage.msg.addPgManuFailed"),Q.x.Error,{hasIcon:!0});t((null==N?void 0:null===(l=N.selectedProgram)||void 0===l?void 0:l.progManuId)?n("pgMgnPage.msg.updatePgManuSuccess"):n("pgMgnPage.msg.addPgManuSuccess"),Q.x.Success,{hasIcon:!0})},eu=(0,i.useCallback)(async()=>{await e((0,v.C$)({...N.params,pageNo:N.params.pageNo,pageSize:N.params.pageSize,sortDirection:"DESC"}))},[e,E,N.params]),ep=async t=>{e(v.iB.setParams({...N.params,pageNo:(null==t?void 0:t.page)+1,pageSize:null==t?void 0:t.size}))};(0,i.useEffect)(()=>{eu()},[JSON.stringify(E)]),(0,i.useEffect)(()=>{e(et.gN.getButtons({...M.Cu}))},[]),(0,i.useEffect)(()=>{if(!R.current){R.current=!0;return}eu()},[JSON.stringify(N.params)]),(0,i.useEffect)(()=>{ei.current=$},[$]);let ec=q/2-64,eg=q-ec;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(r.A,{container:!0,spacing:2,children:[(0,o.jsxs)(r.A,{size:{xs:12,md:6},sx:{width:ei.current},children:[(0,o.jsxs)(e$,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,o.jsx)(eZ,{dangerouslySetInnerHTML:{__html:n("pgMgnPage.title.pgMgnCount",{count:null==N?void 0:N.total})}}),(0,o.jsx)(x.A,{direction:"row",alignItems:"center",spacing:2.4,children:s.Create&&(0,o.jsx)(c.A,{startIcon:(0,o.jsx)(L.A,{}),size:"small",variant:"contained",onClick:()=>{el()},children:n("common.create")})})]}),(0,o.jsx)(u.A,{sx:{height:q+40+"px",position:"relative"},children:(0,o.jsx)(_.A,{ref:V,columnDefs:ea,rowData:N.progs,containerStyle:{height:q-40+"px"},defaultColDef:{flex:1},onRowDoubleClicked:er,hasPagination:!0,metadata:null==N?void 0:N.progsMeta,onPaginationChange:ep,showActionInfo:!0})})]}),(0,o.jsxs)(r.A,{size:{xs:12,md:6},children:[(0,o.jsxs)("form",{style:{height:ec+"px"},onSubmit:0===en?j(()=>{l({isOpen:!0,mode:h?"add":"update",title:h?n("pgMgnPage.title.addPg"):n("pgMgnPage.title.updatePg"),message:h?n("pgMgnPage.msg.areYouSureWantToAddPg",{name:k("progTitle")}):n("pgMgnPage.msg.areYouSureWantToUpdatePg",{name:k("progTitle")})})}):B(()=>{var e,t,o;l({isOpen:!0,mode:(null==N?void 0:null===(e=N.selectedProgram)||void 0===e?void 0:e.progManuId)?"update":"add",title:(null==N?void 0:null===(t=N.selectedProgram)||void 0===t?void 0:t.progManuId)?n("pgMgnPage.title.updatePgManu"):n("pgMgnPage.title.addPgManu"),message:(null==N?void 0:null===(o=N.selectedProgram)||void 0===o?void 0:o.progManuId)?n("pgMgnPage.msg.areYouSureWantToUpdatePgManual",{name:k("progTitle")}):n("pgMgnPage.msg.areYouSureWantToAddPgManual",{name:k("progTitle")})})}),autoComplete:"off",children:[(0,o.jsxs)(e$,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,o.jsxs)(eJ,{value:en,onChange:(e,t)=>{var n;(1!==t||(null==N?void 0:null===(n=N.selectedProgram)||void 0===n?void 0:n.id))&&eo(t)},"aria-label":"basic tabs",children:[(0,o.jsx)(eQ,{label:"Program Info",...e_(0)}),(0,o.jsx)(eQ,{label:"Manual",...e_(1)})]}),(0,o.jsx)(x.A,{direction:"row",alignItems:"center",spacing:2.4,children:(s.Create||s.Update)&&(0,o.jsx)(c.A,{startIcon:(null==N?void 0:N.loading)?(0,o.jsx)(b.b,{}):(0,o.jsx)("span",{}),size:"small",variant:"contained",type:"submit",children:n("button.save")})})]}),(0,o.jsxs)(eK,{children:[(0,o.jsx)(Z.A,{sx:{padding:"0.85rem",paddingLeft:"10px",paddingRight:"10px"},title:n("pgMgnPage.title.pgEntry")}),(0,o.jsxs)(Y.A,{sx:{padding:"0.5rem !important",height:ec+"px"},children:[(0,o.jsx)(eU,{value:en,index:0,children:(0,o.jsx)(U,{store:N,dispatch:e,selectProgram:v.L2,addProgram:v._6,updateProgram:v.El,deleteProgram:v.GD,formState:eG,setValue:w,reset:y,control:A,errors:P})}),(0,o.jsx)(eU,{value:en,index:1,children:(0,o.jsx)(eq,{store:N,dispatch:e,selectProgram:v.L2,addProgram:v._6,updateProgram:v.El,deleteProgram:v.GD,formState:eX,setValue:I,reset:F,control:S,errors:z})})]})]})]}),(0,o.jsx)(eU,{value:en,index:0,children:(0,o.jsx)(eE,{height:eg,type:"func-button"})}),(0,o.jsx)(eU,{value:en,index:1,children:(0,o.jsx)(eE,{height:eg,type:"manual"})})]})]}),(0,o.jsx)(G.A,{isOpen:a.isOpen,onOk:()=>{d(),0===en?ed():es()},onCancel:d,type:"delete"===a.mode?"error":"warn",title:a.title,content:a.message})]})},e1=(0,a.Ay)(r.A)(e=>{let{theme:t}=e;return{marginLeft:-20,marginRight:-20,borderBottom:"1px solid ".concat("dark"===t.palette.mode?t.palette.customColors.darkLineColor:t.palette.customColors.lightLineColor)}}),e2=()=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e1,{container:!0,mb:4,children:(0,o.jsx)(r.A,{size:{xs:12},sx:{paddingLeft:4.5,paddingRight:4.5},children:(0,o.jsx)(T,{})})}),(0,o.jsx)(r.A,{container:!0,spacing:4,children:(0,o.jsx)(r.A,{size:{xs:12},children:(0,o.jsx)(e0,{})})})]})}}]);