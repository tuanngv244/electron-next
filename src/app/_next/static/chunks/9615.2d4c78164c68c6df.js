"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9615],{26204:(e,t,n)=>{n.d(t,{A:()=>r});var i=n(95155);n(12115);let r=()=>(0,i.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("rect",{x:"0.5",y:"0.5",width:"13",height:"13",rx:"3.5",fill:"#2C5FCE"}),(0,i.jsx)("rect",{x:"0.5",y:"0.5",width:"13",height:"13",rx:"3.5",stroke:"#2C5FCE"}),(0,i.jsx)("g",{clipPath:"url(#clip0_29_65)",children:(0,i.jsx)("path",{d:"M5.125 7.1875L6.625 8.6875L8.875 5.3125",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_29_65",children:(0,i.jsx)("rect",{width:"6",height:"6",fill:"white",transform:"translate(4 4)"})})})]})},31735:(e,t,n)=>{n.d(t,{A:()=>r});var i=n(95155);n(12115);let r=()=>(0,i.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("rect",{x:"0.5",y:"0.5",width:"13",height:"13",rx:"3.5",stroke:"#C8D6F3"})})},95801:(e,t,n)=>{n.d(t,{e:()=>u});var i=n(93297),r=n(3417),o=n(76046),l=n(12115),a=n(4867),d=n(39666),s=function(e){return e.Create="B1",e.Update="B2",e.Delete="B3",e.Detail="B4",e.List="B5",e.Upload="B6",e.Export="B7",e.Import="B8",e.Download="B9",e}({});let u=()=>{var e;let t=(0,o.usePathname)(),{params:n}=(0,d.s)(),u=null===(e=(0,i.A)())||void 0===e?void 0:e.user,p=(0,r.GV)(e=>e.common.progBtnList),c=!!Object.values(n).length,g=(0,l.useMemo)(()=>(0,a.dn)((null==u?void 0:u.menus)||[]),[null==u?void 0:u.menus]),m=(0,l.useMemo)(()=>{let e=null==g?void 0:g.find(e=>c?t.includes(e.routPath):t===e.routPath);return null==p?void 0:p.find(t=>t.progId===(null==e?void 0:e.progId))},[g,null==u?void 0:u.menus,p,t]),h=(0,l.useMemo)(()=>{let e=(null==m?void 0:m.buttons)||[];return Object.entries(s).reduce((t,n)=>{var i;let[r,o]=n;return t[r]=(null==e?void 0:null===(i=e.find(e=>e.btnCd===o))||void 0===i?void 0:i.useYn)==="Y",t},{})},[m]);return{prog:m,buttons:(null==m?void 0:m.buttons)||[],acceptButtons:h}}},53476:(e,t,n)=>{n.d(t,{A:()=>o});var i=n(89142),r=n(68998);let o=(0,i.Ay)(r.A)(e=>{let{theme:t}=e;return{boxShadow:"none",padding:"5px",paddingLeft:"5px",paddingRight:"10px",marginTop:"0.5rem"}})},90212:(e,t,n)=>{n.d(t,{A:()=>o});var i=n(89142),r=n(68998);let o=(0,i.Ay)(r.A)(e=>{let{theme:t,wInput:n}=e;return{"input::placeholder":{color:"#757575",fontWeight:400,opacity:1},"input:::-ms-input-placeholder":{color:"#757575",fontWeight:400},"input::-ms-input-placeholder":{color:"#757575",fontWeight:400},".MuiAutocomplete-hasPopupIcon.MuiAutocomplete-hasClearIcon .MuiOutlinedInput-root":{paddingRight:"39px !important"},".input-select":{borderColor:"dark"===t.palette.mode?"#333":"#E2E8F0",background:"".concat("dark"===t.palette.mode?"#141414":"#e3e4e5"),height:"28px",fontSize:"12px",color:"dark"===t.palette.mode?"#fff":"#333",paddingRight:8,borderRadius:"4px",width:"100%",minWidth:"180px",svg:{width:20},".MuiSelect-select":{paddingRight:5}},".react-datepicker-wrapper":{background:"".concat("dark"===t.palette.mode?"#141414":"#fff")},".input-text":{overflow:"hidden",textOverflow:"ellipsis",borderColor:"#333",background:"".concat("dark"===t.palette.mode?"#141414":"#fff"),color:"".concat("dark"===t.palette.mode?"#fff":"#2F2B0F"),height:"28px",fontSize:"12px",borderRadius:"4px",fontWeight:"400",minWidth:"".concat(null!=n?n:180,"px"),width:"100%",".MuiAutocomplete-inputRoot .MuiAutocomplete-input":{minWidth:"180px",fontSize:"12px",color:"#2F2B0F",borderColor:"#333",height:"11px"}},".MuiTypography-root":{color:"#2F2B0F",fontWeight:500,fontSize:"12px"},".MuiOutlinedInput-input":{width:"100%",minWidth:"".concat(null!=n?n:180,"px !important"),padding:"8.5px 10px"},".MuiSelect-select[aria-expanded=false] ~ svg":{transform:"rotate(0deg)",transition:"transform 0.2s linear"},".MuiSelect-select[aria-expanded=true] ~ svg":{transform:"rotate(180deg)",transition:"transform 0.2s linear"}}})},42130:(e,t,n)=>{n.d(t,{A:()=>a});var i=n(95155),r=n(89142),o=n(9561);n(12115);let l=(0,r.Ay)(o.A)(e=>{let{theme:t}=e;return{fontSize:"0.75rem",lineHeight:"1rem",fontWeight:400,color:"dark"===t.palette.mode?"#fff":t.palette.text.textBlack}}),a=e=>{let{total:t=0}=e;return(0,i.jsxs)(l,{as:"span",children:[t," record(s)"]})}},83611:(e,t,n)=>{n.d(t,{_:()=>o});var i=n(89142),r=n(9561);let o=(0,i.Ay)(r.A)(e=>{let{theme:t}=e;return{fontSize:"14px !important",lineHeight:"1.25rem",fontWeight:"600 !important",color:t.palette.primary.main+"!important",display:"inline-flex",alignItems:"center",gap:"0 0.5rem",[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}})},19615:(e,t,n)=>{n.r(t),n.d(t,{default:()=>eo});var i=n(95155),r=n(62930),o=n(89142),l=n(22282),a=n(68998);(0,o.Ay)(l.A)(()=>({padding:"0.25rem 0.5rem",fontSize:"0.75rem",fontWeight:600,".MuiButton-startIcon":{marginRight:"0.25rem"},whiteSpace:"nowrap"})),(0,o.Ay)(l.A)(e=>{let{theme:t}=e;return{minWidth:68,whiteSpace:"nowrap",padding:"0.25rem 0.5rem",fontSize:"12px",color:r.T.red[600],fontWeight:600,borderColor:r.T.red[600],background:"#F1F5F9",height:"1.5rem",lineHeight:"unset",alignItems:"center",".MuiButton-startIcon":{marginRight:"4px"},"&.Mui-disabled":{borderColor:"#E2E8F0",backgroundColor:"#F1F5F9",color:"#64748B"},[t.breakpoints.down("xl")]:{},[t.breakpoints.down("md")]:{}}});let d=(0,o.Ay)(l.A)(e=>{let{theme:t}=e;return{minWidth:68,whiteSpace:"nowrap",padding:"0.25rem 0.5rem",fontSize:"12px",fontWeight:600,".MuiButton-startIcon":{marginRight:"2px"},"&.submit":{".MuiButton-startIcon":{position:"absolute"}},":disabled":{borderColor:t.palette.grey[300],backgroundColor:t.palette.grey[200],color:t.palette.grey[600]},[t.breakpoints.down("xl")]:{},[t.breakpoints.down("md")]:{}}});(0,o.Ay)(l.A)(e=>{let{theme:t}=e;return{".MuiButton-startIcon":{marginRight:"4px"},color:t.palette.primary.main,fontSize:"12px !important",fontWeight:"600 !important",[t.breakpoints.down("xl")]:{},[t.breakpoints.down("md")]:{}}}),(0,o.Ay)(l.A)(e=>{let{theme:t}=e;return{borderColor:r.T.red[600],color:r.T.red[600],minWidth:"72px",paddingLeft:0,whiteSpace:"nowrap",paddingRight:0,fontSize:"12px",fontWeight:400,"&:hover":{borderColor:r.T.red[600]},"&.submit":{".MuiButton-startIcon":{position:"absolute"}},[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),(0,o.Ay)(l.A)(e=>{let{theme:t}=e;return{minWidth:68,padding:"0.25rem 0.5rem",fontSize:"12px",fontWeight:600,".MuiButton-startIcon":{marginRight:"4px"},color:t.palette.grey[500],borderColor:t.palette.grey[300],backgroundColor:t.palette.grey[100],"&:hover":{borderColor:t.palette.grey[400],backgroundColor:t.palette.grey[200]},[t.breakpoints.down("xl")]:{},[t.breakpoints.down("md")]:{}}}),(0,o.Ay)(l.A)(e=>{let{theme:t}=e;return{minWidth:"4.5rem",paddingLeft:0,paddingRight:0,whiteSpace:"nowrap",fontSize:"0.75rem",fontWeight:600,"&.submit":{".MuiButton-startIcon":{position:"absolute"}},[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),(0,o.Ay)(l.A)(e=>{let{theme:t}=e;return{}}),(0,o.Ay)(l.A)(e=>{let{theme:t}=e;return{}}),(0,o.Ay)(a.A)(()=>({".MuiButton-startIcon>*:nth-of-type(1)":{fontSize:"inherit"}}));var s=n(894),u=n(12115),p=n(26204);let c=()=>(0,i.jsx)(s.A,{sx:{boxShadow:"none",padding:"10px",svg:{width:14,height:14}},children:(0,i.jsx)(p.A,{})});var g=n(93658),m=n(31735);let h=()=>(0,i.jsx)(s.A,{sx:{boxShadow:"none",padding:"10px",svg:{width:14,height:14}},children:(0,i.jsx)(m.A,{})});var x=n(83238),f=n(45196),v=n(75376),b=n(74121),w=n(32748),A=n(68568),k=n(9561);let j=(0,o.Ay)(k.A)(e=>{let{theme:t}=e;return{fontSize:"0.75rem",lineHeight:"1rem",fontWeight:400,color:t.palette.common.white}});var y=n(83611),C=n(42130),S=n(35761),I=n(83726),B=n(10979),W=n(90847),P=n(72325),M=n(83737),z=n(83391),F=n(19307),E=n(5601),T=n(68324),R=n(19376),L=n(95801),N=n(72441);let D=(0,o.Ay)(l.A)(e=>{let{theme:t}=e;return{minWidth:"72px",paddingLeft:0,paddingRight:0,fontSize:"12px",fontWeight:400,"&.submit":{".MuiButton-startIcon":{position:"absolute"}},[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),Y=(0,o.Ay)(k.A)(e=>{let{theme:t}=e;return{color:"dark"===t.palette.mode?"#fff !important":"#1E293B",[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),U=()=>{var e;let{t}=(0,M.Bd)("common"),n=(0,b.d)(),{confirm:r,onConfirm:o,onClose:l}=(0,f.S)(),{acceptButtons:s}=(0,L.e)(),{height:p}=(0,v.A)(),m=(0,u.useRef)(null),k=(0,z.wA)(),U=(0,z.d4)(e=>e.userPg),_=(0,z.d4)(e=>e.button),[O,H]=(0,u.useState)({}),[V,$]=(0,u.useState)([]),G=(0,u.useRef)({perrmission:"",checked:!1}),q=(0,S.A)(),J=(0,u.useMemo)(()=>{var e,t;return null===(t=_.buttons)||void 0===t?void 0:null===(e=t.filter(e=>(null==e?void 0:e.useYn)==="Y"))||void 0===e?void 0:e.map(e=>({label:null==e?void 0:e.btnTitle,value:null==e?void 0:e.id}))},[_.buttons]),K=(0,u.useCallback)(async()=>{var e,t,n,i,r,o;let l=await k(A.i$.getProgBtnList({id:null===(e=U.selectedUserPg)||void 0===e?void 0:e.id,userId:null===(t=U.selectedUserPg)||void 0===t?void 0:t.id,progTitle:null===(n=U.userBtnListParams)||void 0===n?void 0:n.progTitle})),a=null==l?void 0:null===(r=l.payload)||void 0===r?void 0:null===(i=r[1])||void 0===i?void 0:i.data,d=null==a?void 0:a.map(e=>({...e,rowFlag:""}));$(null===(o=(0,R.LV)(d))||void 0===o?void 0:o.map(e=>({...e,id:(0,N.lk)()})))},[k,U.userBtnListParams,U.selectedUserPg]),Q=(0,u.useCallback)(async()=>{await k(E.gN.getButtons({...T.Cu}))},[]),X={textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center"},Z=(0,u.useMemo)(()=>{var e,n,r;return[{editable:!1,initialWidth:60,maxWidth:60,cellClass:"ag-cell-center item-center",headerClass:"item-center",checkboxSelection:!0,cellEditor:"agCheckboxCellEditor",enableCellChangeFlash:!0,pinned:"left"},{flex:.5,minWidth:220,field:"progTitle",headerName:t("userPgMgn.cols.programName"),sortable:!0,headerAlign:"center",align:"center",pinned:"left",cellStyle:{display:"flex",justifyContent:"flex-start",alignItems:"center"},cellRenderer:e=>(0,i.jsx)(j,{noWrap:!0,children:e.value})},...(null===(e=_.buttons)||void 0===e?void 0:e.length)?null===(r=_.buttons)||void 0===r?void 0:null===(n=r.filter(e=>(null==e?void 0:e.useYn)===w.Co.Y))||void 0===n?void 0:n.map(e=>({flex:1,minWidth:100,headerName:e.btnTitle,sortable:!0,cellStyle:X,cellRenderer:t=>{var n,r;let o=null===(r=t.data)||void 0===r?void 0:null===(n=r.buttons)||void 0===n?void 0:n.find(t=>t.btnId===e.id);return(null==o?void 0:o.isEnabled)===w.Co.Y&&(0,i.jsx)(I.A,{checked:o.useYn===w.Co.Y,onChange:n=>{var i,r;let l={...o,useYn:n.target.checked?w.Co.Y:w.Co.N},a={...t.data,rowFlag:w.zj.EDIT,buttons:[...null===(r=t.data)||void 0===r?void 0:null===(i=r.buttons)||void 0===i?void 0:i.filter(t=>t.btnId!==e.id),l]};$(e=>[...e||[]].map(e=>{var n;return e.progId===(null===(n=t.data)||void 0===n?void 0:n.progId)?a:e}))}})}})):[]]},[t,_.buttons,V]),ee=()=>{let e=[];return null==V||V.forEach(t=>{t.rowFlag===w.zj.EDIT&&e.push(t)}),e},et=async()=>{var e,i,r;let o=ee(),a=await k(A.i$.updateProgBtnList({userId:null==U?void 0:null===(e=U.selectedUserPg)||void 0===e?void 0:e.id,progBtns:o})),d=(0,R.FT)(a);if(null==d?void 0:d.isFailed)return n(null!==(r=null==d?void 0:d.resultMsg)&&void 0!==r?r:t("userPgMgn.msg.updatePermissionFailed"),b.x.Error,{hasIcon:!0});n(t("userPgMgn.msg.updatePermissionSuccess"),b.x.Success,{hasIcon:!0}),l(),m.current&&(null===(i=m.current)||void 0===i||i.api.deselectAll())};(0,u.useEffect)(()=>{Q()},[]),(0,u.useEffect)(()=>{var e;(null==U?void 0:null===(e=U.selectedUserPg)||void 0===e?void 0:e.id)&&K()},[U.userBtnListParams,U.selectedUserPg]);let en=p-32;return(0,i.jsxs)("div",{children:[(0,i.jsxs)(B.A,{marginTop:2.5,flexDirection:"row",alignItems:"center",gap:4,justifyContent:"space-between",children:[(0,i.jsxs)(y._,{as:"h2",children:[t("userPgMgn.title.roleProgram"),(0,i.jsx)(C.A,{total:(null==V?void 0:V.length)||0})]}),(0,i.jsx)(d,{size:"small",variant:"contained",className:"submit",type:"submit",onClick:()=>{var e;if(!(null===(e=ee())||void 0===e?void 0:e.length))return n(t("userPgMgn.msg.nothingToSave"),b.x.Warning);o({isOpen:!0,message:t("userPgMgn.msg.confirmUpdatePermission",b.x.Warning),mode:"update"})},children:t("button.save")})]}),(0,i.jsxs)(B.A,{flexDirection:"row",alignItems:"center",gap:2,children:[(0,i.jsx)(Y,{variant:"body2",sx:{whiteSpace:"nowrap",fontWeight:"600 !important",fontSize:"12px"},children:t("userPgMgn.cols.setPermission")}),(0,i.jsx)(W.A,{IconComponent:e=>(0,i.jsx)(g.A,{...e}),className:"icon-input input-select",value:G.current.perrmission,defaultValue:null==J?void 0:null===(e=J[0])||void 0===e?void 0:e.value,onChange:e=>{G.current={...G.current,perrmission:e.target.value},H({})},inputProps:{MenuProps:{disableScrollLock:!0}},sx:{color:"dark"===q.palette.mode?"#fff !important":"#1E293B",minWidth:100},children:null==J?void 0:J.map((e,t)=>(0,i.jsx)(P.A,{sx:{fontSize:"11px"},value:e.value,"data-role":e.label,children:e.label},t))}),(0,i.jsx)(I.A,{sx:{transform:"scale(1.4)"},checkedIcon:(0,i.jsx)(c,{}),icon:(0,i.jsx)(h,{}),onChange:e=>{G.current={...G.current,checked:e.target.checked},H({})}}),(0,i.jsx)(D,{variant:"outlined",size:"small",onClick:()=>{if(!G.current.perrmission)return;let e=[];m.current&&m.current.api.getSelectedRows().forEach(t=>{e.push(t.progId)}),$(t=>[...t||[]].map(t=>e.includes(t.progId)?{...t,rowFlag:w.zj.EDIT,buttons:t.buttons.map(e=>e.btnId===G.current.perrmission?{...e,useYn:G.current.checked?"Y":"N"}:e)}:t))},sx:{fontWeight:600},children:t("userPgMgn.btn.set")})]}),(0,i.jsx)(a.A,{marginTop:2.5,sx:{height:en,position:"relative"},children:(0,i.jsx)(F.A,{ref:m,columnDefs:Z,rowData:V,rowSelection:"multiple",getRowId:e=>{var t;return null===(t=e.data)||void 0===t?void 0:t.id},containerStyle:{height:en+"px"},defaultColDef:{flex:1,minWidth:150},onCellValueChanged:e=>{var t;let n=e.node.id,i=null===(t=e.api.getRowNode(n))||void 0===t?void 0:t.data;i.rowFlag=w.zj.EDIT,e.api.applyTransaction({update:[i]})}})}),(0,i.jsx)(x.A,{isOpen:r.isOpen,onOk:()=>{"update"===r.mode&&et()},onCancel:l,type:"delete"===r.mode?"error":"warn",title:t("userPgMgn.title.updatePermission"),content:r.message})]})};var _=n(7674),O=n(83458),H=n(3835),V=n(53476),$=n(90212),G=n(41265),q=n(97975),J=n(69606);let K=(0,o.Ay)(a.A)(e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",paddingTop:"2px",paddingBottom:"2px",justifyContent:"space-between",[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),Q=(0,o.Ay)(a.A)(e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",gap:"0 0.5rem",[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),X=(0,o.Ay)(B.A)(e=>{let{theme:t}=e;return{paddingTop:"5px",paddingBottom:"5px",[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),Z=(0,o.Ay)(k.A)(e=>{let{theme:t}=e;return{fontSize:"14px !important",lineHeight:"1.25rem",fontWeight:"600 !important",color:t.palette.primary.main+"!important",display:"inline-flex",alignItems:"center",gap:"0 0.5rem",[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),ee=(0,o.Ay)(l.A)(e=>{let{theme:t}=e;return{minWidth:"72px",paddingLeft:0,paddingRight:0,fontSize:"12px",fontWeight:400,"&.submit":{".MuiButton-startIcon":{position:"absolute"}},[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),et=(0,o.Ay)("form")(e=>{let{theme:t}=e;return{display:"flex",flexDirection:"column",[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),en=(0,o.Ay)(k.A)(e=>{let{theme:t}=e;return{color:"dark"===t.palette.mode?"#fff !important":"#1E293B",[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),ei={progTitle:""},er=()=>{let{control:e,handleSubmit:t,formState:{errors:n},reset:r}=(0,J.mN)({defaultValues:ei}),{t:o}=(0,M.Bd)("common"),l=(0,z.wA)(),a=(0,z.d4)(e=>e.userPg);return(0,i.jsx)($.A,{children:(0,i.jsxs)(et,{onSubmit:t(e=>{l(A.i$.setUserBtnListParams({...a.userBtnListParams,...e}))}),children:[(0,i.jsxs)(K,{children:[(0,i.jsxs)(Z,{children:["Search",(0,i.jsx)(H.A,{})]}),(0,i.jsxs)(Q,{children:[(0,i.jsx)(ee,{startIcon:a.loading?(0,i.jsx)(_.b,{width:13}):(0,i.jsx)("span",{}),className:"submit",type:"submit",variant:"contained",size:"small",children:o("common.search")}),(0,i.jsx)(ee,{startIcon:(0,i.jsx)(O.A,{}),variant:"outlined",size:"small",onClick:()=>{r(ei),l(A.i$.setUserBtnListParams({...a.userBtnListParams,...ei}))},sx:{fontWeight:600},children:o("common.reset")})]})]}),(0,i.jsx)(V.A,{sx:{flex:1},children:(0,i.jsx)(G.A,{container:!0,columnSpacing:2,children:(0,i.jsx)(G.A,{size:{xs:6},alignItems:"center",children:(0,i.jsxs)(X,{direction:"row",alignItems:"center",spacing:2,children:[(0,i.jsx)(en,{variant:"body2",sx:{whiteSpace:"nowrap",fontWeight:"600 !important",fontSize:"12px",width:120,textAlign:"right"},children:o("userPgMgn.cols.programName")}),(0,i.jsx)(J.xI,{name:"progTitle",control:e,render:e=>{let{field:t}=e;return(0,i.jsx)(q.A,{...t,size:"small",fullWidth:!0,className:"input-text",placeholder:"Enter"})}})]})})})})]})})},eo=e=>(0,i.jsxs)("div",{children:[(0,i.jsx)(er,{}),(0,i.jsx)(U,{})]})}}]);