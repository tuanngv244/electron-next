"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[767],{12693:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(95155);n(12115);let l=()=>(0,o.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 3.0625C7.24162 3.0625 7.4375 3.25838 7.4375 3.5V6.5625L10.5 6.5625C10.7416 6.5625 10.9375 6.75838 10.9375 7C10.9375 7.24162 10.7416 7.4375 10.5 7.4375H7.4375V10.5C7.4375 10.7416 7.24162 10.9375 7 10.9375C6.75838 10.9375 6.5625 10.7416 6.5625 10.5V7.4375H3.5C3.25838 7.4375 3.0625 7.24162 3.0625 7C3.0625 6.75837 3.25838 6.5625 3.5 6.5625L6.5625 6.5625V3.5C6.5625 3.25838 6.75838 3.0625 7 3.0625Z",fill:"currentColor"})})},95801:(e,t,n)=>{n.d(t,{e:()=>p});var o=n(93297),l=n(3417),i=n(76046),r=n(12115),a=n(4867),d=n(39666),s=function(e){return e.Create="B1",e.Update="B2",e.Delete="B3",e.Detail="B4",e.List="B5",e.Upload="B6",e.Export="B7",e.Import="B8",e.Download="B9",e}({});let p=()=>{var e;let t=(0,i.usePathname)(),{params:n}=(0,d.s)(),p=null===(e=(0,o.A)())||void 0===e?void 0:e.user,c=(0,l.GV)(e=>e.common.progBtnList),u=!!Object.values(n).length,m=(0,r.useMemo)(()=>(0,a.dn)((null==p?void 0:p.menus)||[]),[null==p?void 0:p.menus]),h=(0,r.useMemo)(()=>{let e=null==m?void 0:m.find(e=>u?t.includes(e.routPath):t===e.routPath);return null==c?void 0:c.find(t=>t.progId===(null==e?void 0:e.progId))},[m,null==p?void 0:p.menus,c,t]),f=(0,r.useMemo)(()=>{let e=(null==h?void 0:h.buttons)||[];return Object.entries(s).reduce((t,n)=>{var o;let[l,i]=n;return t[l]=(null==e?void 0:null===(o=e.find(e=>e.btnCd===i))||void 0===o?void 0:o.useYn)==="Y",t},{})},[h]);return{prog:h,buttons:(null==h?void 0:h.buttons)||[],acceptButtons:f}}},53476:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(89142),l=n(68998);let i=(0,o.Ay)(l.A)(e=>{let{theme:t}=e;return{boxShadow:"none",padding:"5px",paddingLeft:"5px",paddingRight:"10px",marginTop:"0.5rem"}})},90212:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(89142),l=n(68998);let i=(0,o.Ay)(l.A)(e=>{let{theme:t,wInput:n}=e;return{"input::placeholder":{color:"#757575",fontWeight:400,opacity:1},"input:::-ms-input-placeholder":{color:"#757575",fontWeight:400},"input::-ms-input-placeholder":{color:"#757575",fontWeight:400},".MuiAutocomplete-hasPopupIcon.MuiAutocomplete-hasClearIcon .MuiOutlinedInput-root":{paddingRight:"39px !important"},".input-select":{borderColor:"dark"===t.palette.mode?"#333":"#E2E8F0",background:"".concat("dark"===t.palette.mode?"#141414":"#e3e4e5"),height:"28px",fontSize:"12px",color:"dark"===t.palette.mode?"#fff":"#333",paddingRight:8,borderRadius:"4px",width:"100%",minWidth:"180px",svg:{width:20},".MuiSelect-select":{paddingRight:5}},".react-datepicker-wrapper":{background:"".concat("dark"===t.palette.mode?"#141414":"#fff")},".input-text":{overflow:"hidden",textOverflow:"ellipsis",borderColor:"#333",background:"".concat("dark"===t.palette.mode?"#141414":"#fff"),color:"".concat("dark"===t.palette.mode?"#fff":"#2F2B0F"),height:"28px",fontSize:"12px",borderRadius:"4px",fontWeight:"400",minWidth:"".concat(null!=n?n:180,"px"),width:"100%",".MuiAutocomplete-inputRoot .MuiAutocomplete-input":{minWidth:"180px",fontSize:"12px",color:"#2F2B0F",borderColor:"#333",height:"11px"}},".MuiTypography-root":{color:"#2F2B0F",fontWeight:500,fontSize:"12px"},".MuiOutlinedInput-input":{width:"100%",minWidth:"".concat(null!=n?n:180,"px !important"),padding:"8.5px 10px"},".MuiSelect-select[aria-expanded=false] ~ svg":{transform:"rotate(0deg)",transition:"transform 0.2s linear"},".MuiSelect-select[aria-expanded=true] ~ svg":{transform:"rotate(180deg)",transition:"transform 0.2s linear"}}})},1436:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(89142),l=n(63551);let i=(0,o.Ay)(l.A)(e=>{let{theme:t}=e;return{borderBottom:"1px solid ".concat("dark"===t.palette.mode?t.palette.customColors.darkLineColor:t.palette.customColors.lightLineColor),background:"dark"===t.palette.mode?"#141414":"#F8FAFC",[t.breakpoints.down("xl")]:{},[t.breakpoints.down("md")]:{},[t.breakpoints.down("sm")]:{}}})},70767:(e,t,n)=>{n.r(t),n.d(t,{default:()=>em});var o=n(95155),l=n(12115),i=n(89142),r=n(41265),a=n(78011),d=n(7674),s=n(83458),p=n(3835),c=n(68324),u=n(53476),m=n(90212),h=n(64052),f=n(3417),g=n(35761),v=n(10979),x=n(68998),w=n(22282),b=n(9561),A=n(69606),y=n(56833),C=n(83391);let k=(0,i.Ay)(x.A)(e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",paddingTop:"2px",paddingBottom:"2px",justifyContent:"space-between",[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),j=(0,i.Ay)(x.A)(e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",gap:"0 0.5rem",[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),D=(0,i.Ay)(b.A)(e=>{let{theme:t}=e;return{fontSize:"14px !important",lineHeight:"1.25rem",fontWeight:"600 !important",color:t.palette.primary.main+"!important",display:"inline-flex",alignItems:"center",gap:"0 0.5rem",[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),S=(0,i.Ay)(b.A)(e=>{let{theme:t}=e;return{color:t.palette.common.white+"!important",fontWeight:"600 !important",fontSize:"0.75rem",marginBottom:"0.25rem",minWidth:120,[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),P=(0,i.Ay)(r.A)(e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",gap:"0 0.5rem",[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),I={upldProcCd:"",fromDate:"",toDate:""},z=()=>{let{t:e,i18n:t}=(0,y.Bd)(),{control:n,handleSubmit:i,reset:x,watch:b}=(0,A.mN)({defaultValues:I}),z=(0,g.A)(),F=(0,C.wA)(),N=(0,f.GV)(e=>e.kettleUploadProcess),W=(0,f.GV)(e=>e.kettleUploadProcess.procTypeData),K=(0,l.useMemo)(()=>W.map(e=>({label:e.procNm,value:e.procCd})),[JSON.stringify(W)]);return(0,o.jsx)(m.A,{children:(0,o.jsxs)("form",{onSubmit:i(e=>{F(h.En.setParams({...N.filterParams,...e,...c.Cu}))}),children:[(0,o.jsxs)(k,{children:[(0,o.jsxs)(D,{children:[e("common.search"),(0,o.jsx)(p.A,{})]}),(0,o.jsxs)(j,{children:[(0,o.jsx)(w.A,{startIcon:N.loading?(0,o.jsx)(d.b,{width:13}):void 0,type:"submit",variant:"contained",size:"small",children:e("common.search")}),(0,o.jsx)(w.A,{startIcon:(0,o.jsx)(s.A,{color:z.palette.primary.main}),variant:"outlined",size:"small",sx:{fontWeight:600},onClick:()=>{x({...I,...c.Cu}),F(h.En.setParams({...N.filterParams,...I,...c.Cu}))},children:e("common.reset")})]})]}),(0,o.jsx)(u.A,{children:(0,o.jsxs)(r.A,{container:!0,columnSpacing:4,rowSpacing:2,children:[(0,o.jsxs)(P,{size:{md:3},spacing:2,children:[(0,o.jsx)(S,{variant:"body2",children:e("fundKettle.process")}),(0,o.jsx)(a.A,{name:"upldProcCd",control:n,controlType:"select",selectOptions:K})]}),(0,o.jsxs)(P,{size:{md:5},spacing:2,children:[(0,o.jsx)(S,{variant:"body2",children:e("fundKettle.uploadDate")}),(0,o.jsxs)(v.A,{direction:"row",alignItems:"center",spacing:1,width:"100%",children:[(0,o.jsx)(a.A,{name:"fromDate",dateProps:{maxDate:b("toDate")},control:n,controlType:"date"}),(0,o.jsx)("span",{style:{color:z.palette.common.white},children:"~"}),(0,o.jsx)(a.A,{name:"toDate",dateProps:{minDate:b("fromDate"),maxDate:new Date},control:n,controlType:"date"})]})]}),(0,o.jsxs)(P,{size:{md:3},spacing:2,children:[(0,o.jsx)(S,{variant:"body2",children:e("fundKettle.registrationDate")}),(0,o.jsx)(a.A,{name:"createdAt",control:n,controlType:"date"})]})]})})]})})};var F=n(73490),N=n(75376),W=n(12693),K=n(19307),E=n(83238),T=n(48406),B=n(45196),M=n(95801),R=n(74121),L=n(19376),H=n(52515),O=n(83737),U=n(72926),V=n(43463);let G=(0,i.Ay)(w.A)(e=>{let{theme:t}=e;return{width:"2rem",height:"2rem",maxWidth:"2rem",minWidth:"2rem",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"0.5rem",fontSize:"var(--font-size-2)",lineHeight:"var(--font-line-height-2)",fontWeight:400,color:t.palette.grey[700],transition:"all .25s",svg:{width:"1rem",height:"2rem",transition:"all .25s"},"&:hover":{borderColor:t.palette.primary.main,transition:"all .25s",svg:{fill:t.palette.primary.main,transition:"all .25s"}},"&.hoverStroke&:hover":{borderColor:t.palette.primary.main,transition:"all .25s",svg:{fill:"initial !important",stroke:t.palette.primary.main,transition:"all .25s"}},["@media (min-width: ".concat(F.pv,"px) and (max-width: 1439px)")]:{},[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{},[t.breakpoints.down("sm")]:{}}}),_=(0,i.Ay)(v.A)(e=>{let{theme:t}=e;return{height:"100%",".label":{fontSize:"var(--font-size-2)",lineHeight:"var(--font-line-height-2)",fontWeight:400,color:t.palette.grey[700]},".dotted":{content:"''",width:"0.625rem",height:"0.625rem",borderRadius:"50%","&.active":{backgroundColor:t.palette.primary.main},"&.deactive":{backgroundColor:t.palette.warning.main},"&.draft":{backgroundColor:t.palette.grey[400]},"&.terminated":{backgroundColor:t.palette.error.main}},["@media (min-width: ".concat(F.pv,"px) and (max-width: 1439px)")]:{},[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{},[t.breakpoints.down("sm")]:{}}}),Y=e=>{let{buttons:t}=e;return(0,o.jsx)(_,{direction:"row",alignItems:"center",justifyContent:"center",gap:"0 0.5rem",children:t.map((e,t)=>(0,o.jsx)(U.A,{title:e.label,children:(0,o.jsx)(G,{onClick:e.onAction,className:(0,V.A)({hoverStroke:e.hoverStroke}),sx:e.sx,children:e.icon})},t))})};var q=n(86496),J=n(67320),Z=n(1436),Q=n(46850),X=n(64665),$=n(42479),ee=n(34367),et=n(82950);let en=(0,i.Ay)("h3")(e=>{let{theme:t}=e;return{fontSize:"var(--font-size-2)",lineHeight:"var(--font-line-height-2)",fontWeight:600,color:t.palette.primary.main,span:{fontSize:"var(--font-size-1)",lineHeight:"var(--font-line-height-1)",color:t.palette.common.white,fontWeight:400},["@media (min-width: ".concat(F.pv,"px) and (max-width: 1439px)")]:{},[t.breakpoints.down("lg")]:{fontSize:"2.5rem",lineHeight:"2.75rem"},[t.breakpoints.down("md")]:{fontSize:"1.75rem",lineHeight:"2rem"},[t.breakpoints.down("sm")]:{fontSize:"2rem",lineHeight:"2.5rem"}}}),eo=(0,i.Ay)(r.A)(e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",gap:"0 0.5rem",[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),el=(0,i.Ay)(b.A)(e=>{let{theme:t}=e;return{minWidth:80,color:"dark"===t.palette.mode?"#fff !important":"#2F2B0F",[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),ei=(0,i.Ay)(X.A)(e=>{let{theme:t}=e;return{boxShadow:"none",border:"1px solid ".concat("dark"===t.palette.mode?t.palette.customColors.darkLineColor:t.palette.customColors.lightLineColor),background:"dark"===t.palette.mode?"#141414":"#FFFFFF",borderRadius:"6px",height:"calc(100% - 140px)",overflow:"visible",".MuiCardHeader-title":{fontSize:"12px !important",fontWeight:"700 !important",color:t.palette.primary.main},[t.breakpoints.down("xl")]:{},[t.breakpoints.down("md")]:{},[t.breakpoints.down("sm")]:{}}}),er=e=>{let{t,i18n:n}=(0,O.Bd)("common"),i=(0,R.d)(),{detail:d,formState:s,setValue:p,reset:c,control:u,errors:m,watch:h,height:w,isDetail:b}=e,A=(0,l.useRef)(null),y=(0,f.GV)(e=>e.kettleUploadProcess.procTypeData),C=(0,g.A)(),k=(0,l.useMemo)(()=>[{headerName:"#",maxWidth:60,width:60,cellClass:"text-center",valueGetter:e=>{var t,n;return(null!==(n=null===(t=e.node)||void 0===t?void 0:t.rowIndex)&&void 0!==n?n:0)+1}},{field:"fileTypeNm",headerName:t("fundKettle.fileType")},{field:"fileName",headerName:t("fundKettle.fileName")},{headerName:t("button.action"),cellClass:"text-center",maxWidth:150,minWidth:100,cellRenderer:e=>(0,o.jsx)(Y,{buttons:b?[{label:t("button.download"),icon:(0,o.jsx)(et.Oz0,{style:{minWidth:"1rem"},color:C.palette.primary.main}),hoverStroke:!0,onAction:()=>{D(null==e?void 0:e.data)}}]:[{label:t("button.upload"),sx:{div:{height:"1rem"},svg:{height:"1rem"}},icon:(0,o.jsx)(q.A,{acceptType:"CSV",onChange:async n=>{var o,l,r,a,d,s,c,u;let m=new FormData;m.append("files",n);let f=await Q.YO.uploadFileRaw(m),g=(0,L.FT)(f);if(null==g?void 0:g.isFailed)return i(null!==(c=null==f?void 0:null===(o=f[1])||void 0===o?void 0:o.resultMsg)&&void 0!==c?c:t("common.msg.uploadFailed"),R.x.Error,{hasIcon:!0});let v=null==f?void 0:null===(a=f[1])||void 0===a?void 0:null===(r=a.data)||void 0===r?void 0:null===(l=r.fileInfos)||void 0===l?void 0:l[0],x=null!==(u=null==e?void 0:null===(d=e.node)||void 0===d?void 0:d.rowIndex)&&void 0!==u?u:0,w=[...h("files")||[]];w[x]={...w[x],...v,fileId:null==v?void 0:v.id,fileType:null===(s=w[x])||void 0===s?void 0:s.fileType},p("files",w)},type:"icon"}),hoverStroke:!0,onAction:()=>{}},{label:t("button.delete"),icon:(0,o.jsx)(ee.oxH,{style:{minWidth:"1rem"},color:C.palette.error.main}),hoverStroke:!0,onAction:()=>{var t,n;let o=[...h("files")||[]],l=null!==(n=null==e?void 0:null===(t=e.node)||void 0===t?void 0:t.rowIndex)&&void 0!==n?n:0;o[l]={...o[l],fileId:"",fileName:""},p("files",o)}}]})}],[n.language,t,h("files")]),j=(0,l.useMemo)(()=>y.map(e=>({label:e.procNm,value:e.procCd})),[JSON.stringify(y)]),D=async e=>{await Q.YO.downloadFile(null==e?void 0:e.fileDtlId,null==e?void 0:e.fileNm,{downloaded:!0})},S=(0,l.useCallback)(async()=>{null!==d&&Object.entries(d).forEach(e=>{let[t,n]=e;p(t,n)})},[p,d]),P=(0,l.useCallback)(()=>{c(s)},[]);(0,l.useEffect)(()=>{null!==d?S():P()},[S,P,d]);let I=w+5;return(0,o.jsxs)(J.A,{children:[(0,o.jsxs)(ei,{children:[(0,o.jsx)(Z.A,{sx:{padding:"0.85rem",paddingLeft:"10px",paddingRight:"10px"},title:t("fundKettle.title.rawDataUploadDetail")}),(0,o.jsx)($.A,{sx:{padding:"0.5rem !important"},children:(0,o.jsxs)(r.A,{container:!0,rowSpacing:4,columnSpacing:4,children:[(0,o.jsxs)(eo,{size:6,children:[(0,o.jsxs)(el,{variant:"body2",children:[(0,o.jsx)("span",{style:{color:"#CF1322"},children:"*"}),t("fundKettle.date")]}),(0,o.jsx)(a.A,{name:"upldDt",control:u,rules:{required:!0},controlType:"date",disabled:b,dateProps:{maxDate:new Date},inputProps:{placeholder:t("common.enter")},errMsg:m.upldDt&&t("message.requiredField")})]}),(0,o.jsxs)(eo,{size:6,children:[(0,o.jsxs)(el,{variant:"body2",children:[(0,o.jsx)("span",{style:{color:"#CF1322"},children:"*"}),t("fundKettle.process")]}),(0,o.jsx)(a.A,{name:"upldProcCd",control:u,rules:{required:!0},selectOptions:j||[],controlType:"select",disabled:b,selectProps:{onChange:(e,t)=>{var n;let o=e.target.value;p("upldProcCd",o),p("files",(null==y?void 0:null===(n=y.find(e=>e.procCd===o))||void 0===n?void 0:n.fileTypList)||[])}},inputProps:{placeholder:t("common.enter")},errMsg:(null==m?void 0:m.upldProcCd)&&t("message.requiredField")})]})]})})]}),(0,o.jsx)(v.A,{direction:"row",justifyContent:"space-between",mt:2,gap:2,alignItems:"center",children:(0,o.jsx)(en,{dangerouslySetInnerHTML:{__html:t("fundKettle.rawDataFileList")}})}),(0,o.jsx)(x.A,{sx:{height:I+"px",width:"100%",marginTop:"0.5rem",position:"relative"},children:(0,o.jsx)(K.A,{ref:A,columnDefs:k,rowData:h("files"),containerStyle:{height:I-140+"px"},defaultColDef:{flex:1}})})]})};var ea=n(4867);let ed={upldDt:"",upldProcCd:"",files:[]};(0,i.Ay)(w.A)(e=>{let{theme:t}=e;return{backgroundColor:t.palette.error.main,"&:hover":{backgroundColor:t.palette.error.dark},[t.breakpoints.down("xl")]:{},[t.breakpoints.down("md")]:{}}});let es=(0,i.Ay)(v.A)(e=>{let{theme:t}=e;return{paddingBottom:"10px",[t.breakpoints.down("xl")]:{},[t.breakpoints.down("md")]:{}}}),ep=(0,i.Ay)("h3")(e=>{let{theme:t}=e;return{fontSize:"var(--font-size-2)",lineHeight:"var(--font-line-height-2)",fontWeight:600,color:t.palette.primary.main,span:{fontSize:"var(--font-size-1)",lineHeight:"var(--font-line-height-1)",color:t.palette.common.white,fontWeight:400},["@media (min-width: ".concat(F.pv,"px) and (max-width: 1439px)")]:{},[t.breakpoints.down("lg")]:{fontSize:"2.5rem",lineHeight:"2.75rem"},[t.breakpoints.down("md")]:{fontSize:"1.75rem",lineHeight:"2rem"},[t.breakpoints.down("sm")]:{fontSize:"2rem",lineHeight:"2.5rem"}}}),ec=()=>{let e=(0,C.wA)(),t=(0,R.d)(),{t:n}=(0,O.Bd)("common"),{confirm:i,onConfirm:a,onClose:s}=(0,B.S)(),{acceptButtons:p}=(0,M.e)(),{control:u,setValue:m,handleSubmit:g,reset:b,getValues:y,watch:k,formState:{errors:j}}=(0,A.mN)({defaultValues:ed,mode:"onSubmit"}),D=(0,f.GV)(e=>e.kettleUploadProcess.data),S=(0,f.GV)(e=>e.kettleUploadProcess.detail),P=(0,f.GV)(e=>e.kettleUploadProcess.meta),I=(0,f.GV)(e=>e.kettleUploadProcess.filterParams),z=(0,f.GV)(e=>e.kettleUploadProcess.loading),[U,V]=(0,l.useState)({pageSize:F.WU,page:0}),G=(0,l.useRef)(null),{height:_,wHalfMain:Y}=(0,N.A)(),q=(0,l.useRef)(Y),J=!!k("id"),Z=()=>{b()},Q=async t=>{var n,o,l,i,r,a;let d=await e(h.En.getDetail(null==t?void 0:null===(n=t.data)||void 0===n?void 0:n.id)),s=null==d?void 0:null===(l=d.payload)||void 0===l?void 0:null===(o=l[1])||void 0===o?void 0:o.data;b({id:null==t?void 0:null===(i=t.data)||void 0===i?void 0:i.id,upldDt:(0,ea.r6)(null==t?void 0:null===(r=t.data)||void 0===r?void 0:r.upldDt,T.Kn.CLIENT),upldProcCd:null==t?void 0:null===(a=t.data)||void 0===a?void 0:a.upldProcCd,files:null==s?void 0:s.map(e=>({fileTypeNm:null==e?void 0:e.fileTypeNm,fileName:null==e?void 0:e.fileNm,fileId:null==e?void 0:e.id}))})},X=(0,l.useMemo)(()=>[{headerName:n("common.no"),maxWidth:60,width:60,cellClass:"text-center",cellRenderer:e=>{var t;return(0,L.hi)(P,Number(null==e?void 0:null===(t=e.node)||void 0===t?void 0:t.rowIndex),{hasPagin:!0})},valueGetter:e=>{var t;return(0,L.hi)(P,Number(null==e?void 0:null===(t=e.node)||void 0===t?void 0:t.rowIndex))}},{field:"upldProcNm",headerName:n("fundKettle.process"),cellClass:"text-center",minWidth:150},{field:"upldDt",headerName:n("fundKettle.uploadDate"),cellClass:"text-center",valueFormatter:e=>(0,ea.r6)(null==e?void 0:e.value,T.Kn.DISPLAY)},{field:"createdAt",headerName:n("fundKettle.registrationDate"),cellClass:"text-center",valueFormatter:e=>(0,ea.r6)(null==e?void 0:e.value,T.Kn.DISPLAY)}],[n,P]),$=async o=>{var l,i;let r=await e(h.En.addKettleFileUpload({...o,upldDt:(0,ea.r6)(null==o?void 0:o.upldDt,T.Kn.BE),upldProcCd:null==o?void 0:o.upldProcCd,files:null==o?void 0:null===(l=o.files)||void 0===l?void 0:l.map(e=>({fileId:null==e?void 0:e.fileId,fileType:null==e?void 0:e.fileType}))})),a=(0,L.FT)(r);if(null==a?void 0:a.isFailed)return t(null!==(i=null==a?void 0:a.resultMsg)&&void 0!==i?i:n("fundKettle.msg.addFailed"),R.x.Error,{hasIcon:!0});t(n("fundKettle.msg.addSuccess"),R.x.Success,{hasIcon:!0}),s()},ee=async o=>{var l,i,r;if(!(null===(l=k("files"))||void 0===l?void 0:l.every(e=>null==e?void 0:e.fileId)))return t(n("fundKettle.msg.pleaseAddKettleFile"),"warning");let d=await e(h.En.checkProcessExisted({upldProcCd:null==o?void 0:o.upldProcCd,upldDt:(0,ea.r6)(null==o?void 0:o.upldDt,T.Kn.BE)}));if(!(null==d?void 0:null===(r=d.payload)||void 0===r?void 0:null===(i=r[1])||void 0===i?void 0:i.data))return $(y());a({mode:"confirm",message:n("fundKettle.msg.theCorrespondingProcessDataIsAlready"),title:n("fundKettle.msg.addRawDataUpload"),isOpen:!0})},et=(0,l.useCallback)(async()=>{await e(h.En.getList({...c.Cu,...I,pageNo:U.page+1,pageSize:U.pageSize,sortDirection:"DESC",fromDate:(null==I?void 0:I.fromDate)?(0,H.default)(null==I?void 0:I.fromDate,T.Kn.BE):"",toDate:(null==I?void 0:I.toDate)?(0,H.default)(null==I?void 0:I.toDate,T.Kn.BE):"",createdAt:(null==I?void 0:I.createdAt)?(0,H.default)(null==I?void 0:I.createdAt,T.Kn.BE):""}))},[e,U,I]),en=async t=>{e(h.En.setParams({...I,pageNo:(null==t?void 0:t.page)+1,pageSize:null==t?void 0:t.size}))};(0,l.useEffect)(()=>{et()},[JSON.stringify(I)]),(0,l.useEffect)(()=>{q.current=Y},[Y]);let eo=_-50;return(0,o.jsxs)(r.A,{container:!0,spacing:2,children:[(0,o.jsxs)(r.A,{size:{xs:12,md:6},sx:{width:q.current},children:[(0,o.jsxs)(es,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,o.jsx)(ep,{dangerouslySetInnerHTML:{__html:n("fundKettle.title.rawDataUploadCount",{count:null==P?void 0:P.totalRows})}}),(0,o.jsx)(v.A,{direction:"row",alignItems:"center",spacing:2.4,children:p.Create&&(0,o.jsx)(w.A,{startIcon:(0,o.jsx)(W.A,{}),size:"small",variant:"contained",onClick:()=>{e(h.En.selectedKettleUploadProcess(null)),Z()},children:n("button.create")})})]}),(0,o.jsx)(x.A,{sx:{height:_+"px",position:"relative"},children:(0,o.jsx)(K.A,{ref:G,columnDefs:X,rowData:D,defaultColDef:{flex:1},containerStyle:{height:eo+"px"},hasPagination:!0,metadata:P,onRowDoubleClicked:Q,onPaginationChange:en})})]}),(0,o.jsx)(r.A,{size:{xs:12,md:6},children:(0,o.jsxs)("form",{style:{height:"100%"},onSubmit:g(()=>{a({isOpen:!0,mode:"add",message:n("fundKettle.msg.areYouSureWantToAdd",{name:y("upldProcCd")})})}),autoComplete:"off",children:[(0,o.jsxs)(es,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,o.jsx)(ep,{children:"\xa0"}),(0,o.jsx)(v.A,{direction:"row",alignItems:"center",spacing:2.4,children:p.Create&&!J&&(0,o.jsx)(w.A,{startIcon:z?(0,o.jsx)(d.b,{}):void 0,size:"small",variant:"contained",type:"submit",children:n("button.save")})})]}),(0,o.jsx)(er,{detail:S,formState:ed,setValue:m,reset:b,control:u,errors:j,watch:k,height:_,isDetail:J})]})}),(0,o.jsx)(E.A,{isOpen:i.isOpen,onOk:()=>{if(s(),(null==i?void 0:i.mode)==="confirm")return $(y());ee(y())},onCancel:s,type:"warn",title:n("fundKettle.title.addRawDataUpload"),content:i.message})]})},eu=(0,i.Ay)(r.A)(e=>{let{theme:t}=e;return{marginLeft:-20,marginRight:-20,borderBottom:"1px solid ".concat("dark"===t.palette.mode?t.palette.customColors.darkLineColor:t.palette.customColors.lightLineColor)}}),em=()=>{let e=(0,C.wA)();return(0,l.useEffect)(()=>{e(h.En.getProcFileType())},[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(eu,{container:!0,mb:4,children:(0,o.jsx)(r.A,{size:{xs:12},sx:{paddingLeft:4.5,paddingRight:4.5},children:(0,o.jsx)(z,{})})}),(0,o.jsx)(r.A,{container:!0,spacing:4,children:(0,o.jsx)(r.A,{size:{xs:12},children:(0,o.jsx)(ec,{})})})]})}}}]);