"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2307],{42479:(e,t,n)=>{n.d(t,{A:()=>x});var r=n(12115),i=n(43463),o=n(7123),l=n(89142),s=n(12567),a=n(81045),d=n(37157);function p(e){return(0,d.Ay)("MuiCardContent",e)}(0,a.A)("MuiCardContent",["root"]);var m=n(95155);let c=e=>{let{classes:t}=e;return(0,o.A)({root:["root"]},p,t)},u=(0,l.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:16,"&:last-child":{paddingBottom:24}}),x=r.forwardRef(function(e,t){let n=(0,s.b)({props:e,name:"MuiCardContent"}),{className:r,component:o="div",...l}=n,a={...n,component:o},d=c(a);return(0,m.jsx)(u,{as:o,className:(0,i.A)(d.root,r),ownerState:a,ref:t,...l})})},63551:(e,t,n)=>{n.d(t,{A:()=>v});var r=n(12115),i=n(7123),o=n(79251),l=n(9561),s=n(89142),a=n(12567),d=n(81045),p=n(37157);function m(e){return(0,p.Ay)("MuiCardHeader",e)}let c=(0,d.A)("MuiCardHeader",["root","avatar","action","content","title","subheader"]);var u=n(48827),x=n(95155);let g=e=>{let{classes:t}=e;return(0,i.A)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},m,t)},h=(0,s.Ay)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>[{["& .".concat(c.title)]:t.title},{["& .".concat(c.subheader)]:t.subheader},t.root]})({display:"flex",alignItems:"center",padding:16}),f=(0,s.Ay)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),b=(0,s.Ay)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,t)=>t.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),w=(0,s.Ay)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,t)=>t.content})({flex:"1 1 auto",[".".concat(o.A.root,":where(& .").concat(c.title,")")]:{display:"block"},[".".concat(o.A.root,":where(& .").concat(c.subheader,")")]:{display:"block"}}),v=r.forwardRef(function(e,t){let n=(0,a.b)({props:e,name:"MuiCardHeader"}),{action:r,avatar:i,component:o="div",disableTypography:s=!1,subheader:d,subheaderTypographyProps:p,title:m,titleTypographyProps:c,slots:v={},slotProps:A={},...j}=n,y={...n,component:o,disableTypography:s},C=g(y),k={slots:v,slotProps:{title:c,subheader:p,...A}},M=m,[S,I]=(0,u.A)("title",{className:C.title,elementType:l.A,externalForwardedProps:k,ownerState:y,additionalProps:{variant:i?"body2":"h5",component:"span"}});null==M||M.type===l.A||s||(M=(0,x.jsx)(S,{...I,children:M}));let N=d,[z,W]=(0,u.A)("subheader",{className:C.subheader,elementType:l.A,externalForwardedProps:k,ownerState:y,additionalProps:{variant:i?"body2":"body1",color:"textSecondary",component:"span"}});null==N||N.type===l.A||s||(N=(0,x.jsx)(z,{...W,children:N}));let[R,T]=(0,u.A)("root",{ref:t,className:C.root,elementType:h,externalForwardedProps:{...k,...j,component:o},ownerState:y}),[B,U]=(0,u.A)("avatar",{className:C.avatar,elementType:f,externalForwardedProps:k,ownerState:y}),[L,F]=(0,u.A)("content",{className:C.content,elementType:w,externalForwardedProps:k,ownerState:y}),[H,D]=(0,u.A)("action",{className:C.action,elementType:b,externalForwardedProps:k,ownerState:y});return(0,x.jsxs)(R,{...T,children:[i&&(0,x.jsx)(B,{...U,children:i}),(0,x.jsxs)(L,{...F,children:[M,N]}),r&&(0,x.jsx)(H,{...D,children:r})]})})},12693:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(95155);n(12115);let i=()=>(0,r.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 3.0625C7.24162 3.0625 7.4375 3.25838 7.4375 3.5V6.5625L10.5 6.5625C10.7416 6.5625 10.9375 6.75838 10.9375 7C10.9375 7.24162 10.7416 7.4375 10.5 7.4375H7.4375V10.5C7.4375 10.7416 7.24162 10.9375 7 10.9375C6.75838 10.9375 6.5625 10.7416 6.5625 10.5V7.4375H3.5C3.25838 7.4375 3.0625 7.24162 3.0625 7C3.0625 6.75837 3.25838 6.5625 3.5 6.5625L6.5625 6.5625V3.5C6.5625 3.25838 6.75838 3.0625 7 3.0625Z",fill:"currentColor"})})},95801:(e,t,n)=>{n.d(t,{e:()=>p});var r=n(93297),i=n(3417),o=n(76046),l=n(12115),s=n(4867),a=n(39666),d=function(e){return e.Create="B1",e.Update="B2",e.Delete="B3",e.Detail="B4",e.List="B5",e.Upload="B6",e.Export="B7",e.Import="B8",e.Download="B9",e}({});let p=()=>{var e;let t=(0,o.usePathname)(),{params:n}=(0,a.s)(),p=null===(e=(0,r.A)())||void 0===e?void 0:e.user,m=(0,i.GV)(e=>e.common.progBtnList),c=!!Object.values(n).length,u=(0,l.useMemo)(()=>(0,s.dn)((null==p?void 0:p.menus)||[]),[null==p?void 0:p.menus]),x=(0,l.useMemo)(()=>{let e=null==u?void 0:u.find(e=>c?t.includes(e.routPath):t===e.routPath);return null==m?void 0:m.find(t=>t.progId===(null==e?void 0:e.progId))},[u,null==p?void 0:p.menus,m,t]),g=(0,l.useMemo)(()=>{let e=(null==x?void 0:x.buttons)||[];return Object.entries(d).reduce((t,n)=>{var r;let[i,o]=n;return t[i]=(null==e?void 0:null===(r=e.find(e=>e.btnCd===o))||void 0===r?void 0:r.useYn)==="Y",t},{})},[x]);return{prog:x,buttons:(null==x?void 0:x.buttons)||[],acceptButtons:g}}},53476:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(89142),i=n(68998);let o=(0,r.Ay)(i.A)(e=>{let{theme:t}=e;return{boxShadow:"none",padding:"5px",paddingLeft:"5px",paddingRight:"10px",marginTop:"0.5rem"}})},90212:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(89142),i=n(68998);let o=(0,r.Ay)(i.A)(e=>{let{theme:t,wInput:n}=e;return{"input::placeholder":{color:"#757575",fontWeight:400,opacity:1},"input:::-ms-input-placeholder":{color:"#757575",fontWeight:400},"input::-ms-input-placeholder":{color:"#757575",fontWeight:400},".MuiAutocomplete-hasPopupIcon.MuiAutocomplete-hasClearIcon .MuiOutlinedInput-root":{paddingRight:"39px !important"},".input-select":{borderColor:"dark"===t.palette.mode?"#333":"#E2E8F0",background:"".concat("dark"===t.palette.mode?"#141414":"#e3e4e5"),height:"28px",fontSize:"12px",color:"dark"===t.palette.mode?"#fff":"#333",paddingRight:8,borderRadius:"4px",width:"100%",minWidth:"180px",svg:{width:20},".MuiSelect-select":{paddingRight:5}},".react-datepicker-wrapper":{background:"".concat("dark"===t.palette.mode?"#141414":"#fff")},".input-text":{overflow:"hidden",textOverflow:"ellipsis",borderColor:"#333",background:"".concat("dark"===t.palette.mode?"#141414":"#fff"),color:"".concat("dark"===t.palette.mode?"#fff":"#2F2B0F"),height:"28px",fontSize:"12px",borderRadius:"4px",fontWeight:"400",minWidth:"".concat(null!=n?n:180,"px"),width:"100%",".MuiAutocomplete-inputRoot .MuiAutocomplete-input":{minWidth:"180px",fontSize:"12px",color:"#2F2B0F",borderColor:"#333",height:"11px"}},".MuiTypography-root":{color:"#2F2B0F",fontWeight:500,fontSize:"12px"},".MuiOutlinedInput-input":{width:"100%",minWidth:"".concat(null!=n?n:180,"px !important"),padding:"8.5px 10px"},".MuiSelect-select[aria-expanded=false] ~ svg":{transform:"rotate(0deg)",transition:"transform 0.2s linear"},".MuiSelect-select[aria-expanded=true] ~ svg":{transform:"rotate(180deg)",transition:"transform 0.2s linear"}}})},1436:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(89142),i=n(63551);let o=(0,r.Ay)(i.A)(e=>{let{theme:t}=e;return{borderBottom:"1px solid ".concat("dark"===t.palette.mode?t.palette.customColors.darkLineColor:t.palette.customColors.lightLineColor),background:"dark"===t.palette.mode?"#141414":"#F8FAFC",[t.breakpoints.down("xl")]:{},[t.breakpoints.down("md")]:{},[t.breakpoints.down("sm")]:{}}})},71876:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(89142),i=n(64665);let o=(0,r.Ay)(i.A)(e=>{let{theme:t}=e;return{boxShadow:"none",border:"1px solid ".concat("dark"===t.palette.mode?t.palette.customColors.darkLineColor:t.palette.customColors.lightLineColor),background:"dark"===t.palette.mode?"#141414":"#FFFFFF",borderRadius:"6px",".MuiCardHeader-title":{fontSize:"12px !important",fontWeight:"700 !important",color:t.palette.primary.main},[t.breakpoints.down("xl")]:{},[t.breakpoints.down("md")]:{},[t.breakpoints.down("sm")]:{}}})},92307:(e,t,n)=>{n.r(t),n.d(t,{default:()=>e8});var r=n(95155),i=n(12115),o=n(89142),l=n(41265),s=n(9561),a=n(68998),d=n(69606),p=n(22282),m=n(83391),c=n(90212),u=n(10979),x=n(97975),g=n(4744),h=n(3835),f=n(7674),b=n(83458),w=n(53476),v=n(19938),A=n(81860),j=n(74121),y=n(83737);let C=v.Ik().shape({fullName:v.Yj(),username:v.Yj(),email:v.Yj().email("Email must to valid")}),k=(0,o.Ay)(a.A)(e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",paddingTop:"2px",paddingBottom:"2px",justifyContent:"space-between",[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),M=(0,o.Ay)(a.A)(e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",gap:"0 0.5rem",[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),S=(0,o.Ay)(u.A)(e=>{let{theme:t}=e;return{[t.breakpoints.up("xl")]:{paddingLeft:"0"},[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),I=(0,o.Ay)(u.A)(e=>{let{theme:t}=e;return{paddingTop:"5px",paddingBottom:"5px",[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),N=(0,o.Ay)(s.A)(e=>{let{theme:t}=e;return{fontSize:"14px !important",lineHeight:"1.25rem",fontWeight:"600 !important",color:t.palette.primary.main+"!important",display:"inline-flex",alignItems:"center",gap:"0 0.5rem",[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),z=(0,o.Ay)(p.A)(e=>{let{theme:t}=e;return{minWidth:"72px",paddingLeft:0,paddingRight:0,fontSize:"12px",fontWeight:400,"&.submit":{".MuiButton-startIcon":{position:"absolute"}},[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),W=(0,o.Ay)(s.A)(e=>{let{theme:t}=e;return{color:"dark"===t.palette.mode?"#fff !important":"#1E293B",[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),R={fullName:"",username:"",email:""},T=()=>{let{t:e}=(0,y.Bd)("common"),t=(0,j.d)(),{control:n,handleSubmit:i,formState:{errors:o},reset:l}=(0,d.mN)({defaultValues:R,resolver:(0,A.t)(C)}),s=(0,m.wA)(),a=(0,m.d4)(e=>e.userStore);return(0,r.jsx)(c.A,{children:(0,r.jsxs)("form",{onSubmit:i(e=>{s((0,g.du)({...a.params,...e}))},()=>{if(null==o?void 0:o.email)return t(e("common.pleaseEnterValidEmailToSearch"),j.x.Error)}),children:[(0,r.jsxs)(k,{children:[(0,r.jsxs)(N,{children:[e("common.search"),(0,r.jsx)(h.A,{})]}),(0,r.jsxs)(M,{children:[(0,r.jsx)(z,{startIcon:a.loading?(0,r.jsx)(f.b,{width:13}):(0,r.jsx)("span",{}),className:"submit",type:"submit",variant:"contained",size:"small",children:e("common.search")}),(0,r.jsx)(z,{startIcon:(0,r.jsx)(b.A,{}),variant:"outlined",size:"small",onClick:()=>{l(R),s((0,g.du)({...a.params,...R}))},sx:{fontWeight:600},children:e("button.reset")})]})]}),(0,r.jsx)(w.A,{children:(0,r.jsxs)(S,{direction:"row",alignItems:"center",flexWrap:"wrap",spacing:{xs:0,sm:5,md:10,xl:15},children:[(0,r.jsxs)(I,{direction:"row",alignItems:"center",spacing:2,children:[(0,r.jsx)(W,{variant:"body2",sx:{whiteSpace:"nowrap",fontWeight:"600 !important",fontSize:"12px"},children:e("userMgn.fullName")}),(0,r.jsx)(d.xI,{name:"fullName",control:n,render:t=>{let{field:n}=t;return(0,r.jsx)(x.A,{...n,size:"small",className:"input-text",placeholder:e("common.enter")})}})]}),(0,r.jsxs)(I,{direction:"row",alignItems:"center",spacing:2,children:[(0,r.jsx)(W,{variant:"body2",sx:{whiteSpace:"nowrap",fontWeight:"600 !important",fontSize:"12px"},children:e("userMgn.username")}),(0,r.jsx)(d.xI,{name:"username",control:n,render:t=>{let{field:n}=t;return(0,r.jsx)(x.A,{...n,size:"small",className:"input-text",placeholder:e("common.enter")})}})]}),(0,r.jsxs)(I,{direction:"row",alignItems:"center",spacing:2,children:[(0,r.jsx)(W,{variant:"body2",sx:{whiteSpace:"nowrap",fontWeight:"600 !important",fontSize:"12px"},children:e("common.email")}),(0,r.jsx)(d.xI,{name:"email",control:n,render:t=>{let{field:n}=t;return(0,r.jsx)(x.A,{...n,size:"small",className:"input-text",placeholder:e("common.enter")})}})]})]})})]})})};var B=n(73490),U=n(75376),L=n(35761),F=n(98650),H=n(42479),D=n(12693),q=n(78011),E=n(86451),P=n(67320),V=n(2241),Y=n(22678),O=n(3417),_=n(32748);let Z=(0,o.Ay)(u.A)(e=>{let{theme:t}=e;return{[t.breakpoints.up("xl")]:{},[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),G=(0,o.Ay)(s.A)(e=>{let{theme:t}=e;return{fontSize:"12px",lineHeight:"1.25rem",fontWeight:"600 !important",color:(null==t?void 0:t.palette.primary.main)+"!important",[t.breakpoints.down("xl")]:{},[t.breakpoints.down("md")]:{}}}),X=(0,o.Ay)(u.A)(e=>{let{theme:t}=e;return{[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),J=(0,o.Ay)(s.A)(e=>{let{theme:t}=e;return{color:"dark"===t.palette.mode?"#fff !important":"#2F2B0F",whiteSpace:"nowrap",fontWeight:"600 !important",fontSize:"12px",paddingTop:"5px",minWidth:100,textAlign:"right",[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),Q=(0,o.Ay)(V.A)(e=>{let{theme:t}=e;return{borderColor:"dark"===t.palette.mode?"#333 !important":"#eee",[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),$=e=>{var t,n;let{t:o}=(0,y.Bd)("common"),{userStatusOptions:s,genderOptions:a}=(0,E.n)(),{store:p,formState:m,setValue:c,reset:u,control:g,errors:h}=e,f=(0,O.GV)(e=>e.employee.allData),b=(0,i.useMemo)(()=>null==f?void 0:f.filter(e=>e.useYn===_.Co.Y).map(e=>({id:e.id,label:e.emplNm+" (".concat(e.emplCd,")")})),[f]),w=(0,i.useCallback)(async()=>{if(null!==p.selectedUser){var e;let t=p.selectedUser;u({...t,...null==t?void 0:t.sysUserInfoRes,id:null==t?void 0:t.id,username:null==t?void 0:t.username,password:"*********--",roleNames:null==t?void 0:null===(e=t.roles)||void 0===e?void 0:e.map(e=>null==e?void 0:e.roleName),status:null==t?void 0:t.status})}},[c,p.selectedUser]),v=(0,i.useMemo)(()=>!!p.selectedUser,[p.selectedUser]),A=(0,i.useCallback)(()=>{u(m)},[]);return(0,i.useEffect)(()=>{null!==p.selectedUser?w():A()},[w,A,p.selectedUser]),(0,r.jsx)(P.A,{children:(0,r.jsxs)(Z,{direction:"column",spacing:2,children:[(0,r.jsx)(G,{children:o("userMgn.title.userDetail")}),(0,r.jsxs)(l.A,{container:!0,rowSpacing:2,children:[(0,r.jsx)(l.A,{size:{xs:12,md:6},children:(0,r.jsxs)(X,{direction:"row",alignItems:"start",spacing:2,children:[(0,r.jsxs)(J,{variant:"body2",children:[(0,r.jsx)("span",{style:{color:"#CF1322"},children:"*"}),o("userMgn.fullName")]}),(0,r.jsx)(q.A,{name:"fullName",control:g,controlType:"input",rules:{required:!0},errMsg:h.fullName&&o("message.requiredField")})]})}),(0,r.jsx)(l.A,{size:{xs:12,md:6},children:(0,r.jsxs)(X,{direction:"row",alignItems:"start",spacing:2,children:[(0,r.jsxs)(J,{variant:"body2",children:[(0,r.jsx)("span",{style:{color:"#CF1322"},children:"*"})," ",o("userMgn.username")]}),(0,r.jsx)(q.A,{name:"username",control:g,rules:{required:!0},inputProps:{disabled:v},controlType:"input",errMsg:h.username&&o("message.requiredField")})]})}),(0,r.jsx)(l.A,{size:{xs:12,md:6},children:(0,r.jsxs)(X,{direction:"row",alignItems:"start",spacing:2,children:[(0,r.jsxs)(J,{variant:"body2",children:[(0,r.jsx)("span",{style:{color:"#CF1322"},children:"*"}),o("userMgn.email")]}),(0,r.jsx)(q.A,{name:"email",control:g,controlType:"input",inputProps:{disabled:v},rules:{required:!0},errMsg:h.email&&(null==h?void 0:null===(t=h.email)||void 0===t?void 0:t.message)})]})}),(0,r.jsx)(l.A,{size:{xs:12,md:6},children:(0,r.jsxs)(X,{direction:"row",alignItems:"start",spacing:2,children:[(0,r.jsxs)(J,{variant:"body2",children:[(0,r.jsx)("span",{style:{color:"#CF1322"},children:"*"}),o("userMgn.phone")]}),(0,r.jsx)(q.A,{name:"phoneNumber",control:g,controlType:"input",rules:{required:!0},errMsg:h.phoneNumber&&o("message.requiredField")})]})}),(0,r.jsx)(l.A,{size:{xs:12,md:12},children:(0,r.jsxs)(X,{direction:"row",alignItems:"start",spacing:2,children:[(0,r.jsxs)(J,{variant:"body2",children:[(0,r.jsx)("span",{style:{color:"#CF1322"},children:"*"}),o("userMgn.password")]}),(0,r.jsx)(q.A,{name:"password",inputProps:{disabled:v,type:"password"},control:g,controlType:"input",rules:{required:!0},errMsg:h.password&&(null==h?void 0:null===(n=h.password)||void 0===n?void 0:n.message)})]})}),(0,r.jsx)(l.A,{size:{xs:12,md:6},children:(0,r.jsxs)(X,{direction:"row",alignItems:"start",spacing:2,children:[(0,r.jsx)(J,{variant:"body2",children:o("userMgn.status")}),(0,r.jsx)(q.A,{name:"status",control:g,rules:{required:!0},controlType:"radio",radioOptions:s})]})}),(0,r.jsx)(l.A,{size:{xs:12,md:6},children:(0,r.jsxs)(X,{direction:"row",alignItems:"start",spacing:2,children:[(0,r.jsx)(J,{variant:"body2",children:o("userMgn.gender")}),(0,r.jsx)(q.A,{name:"gender",control:g,rules:{required:!0},controlType:"radio",radioOptions:a})]})})]}),(0,r.jsxs)(X,{direction:"row",alignItems:"start",spacing:2,sx:{marginTop:"5px"},children:[(0,r.jsx)(J,{variant:"body2",sx:{whiteSpace:"nowrap",fontWeight:"600 !important",fontSize:"12px",paddingTop:"0",minWidth:130,textAlign:"right"},children:o("userMgn.adminNote")}),(0,r.jsx)(Y.A,{fullWidth:!0,children:(0,r.jsx)(d.xI,{name:"remarkAdmin",control:g,render:e=>{let{field:t}=e;return(0,r.jsx)(x.A,{...t,multiline:!0,maxRows:3,fullWidth:!0,size:"small",placeholder:"Message",className:"textarea",inputProps:{maxLength:200}})}})})]}),(0,r.jsx)(Q,{sx:{marginTop:"15px !important",marginBottom:"5px !important"}}),(0,r.jsx)(G,{children:o("userMgn.title.employeeInfo")}),(0,r.jsxs)(X,{direction:"row",alignItems:"start",spacing:2,children:[(0,r.jsx)(J,{variant:"body2",sx:{whiteSpace:"nowrap",fontWeight:"600 !important",fontSize:"12px",paddingTop:"5px",minWidth:130,textAlign:"right"},children:o("userMgn.employeeId")}),(0,r.jsx)(q.A,{name:"emplId",control:g,rules:{required:!0},controlType:"autocomplete",autoOptions:b})]})]})})};var K=n(19307);let ee=()=>(0,r.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("g",{clipPath:"url(#clip0_5143_63779)",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.99992 2.66677C5.0544 2.66677 2.66658 5.05458 2.66659 8.0001C2.66659 8.36829 2.36811 8.66677 1.99992 8.66677C1.63173 8.66677 1.33325 8.36829 1.33325 8.0001C1.33325 4.3182 4.31802 1.33344 7.99992 1.33344C11.6818 1.33343 14.6666 4.3182 14.6666 8.0001C14.6666 11.682 11.6818 14.6668 7.99992 14.6668C7.99246 14.6668 7.98501 14.6668 7.97756 14.6667C6.16895 14.6608 4.53037 13.9344 3.33326 12.7609L3.33326 13.3335C3.33326 13.7017 3.03479 14.0001 2.6666 14.0001C2.29841 14.0001 1.99993 13.7017 1.99993 13.3335L1.99991 10.7652C1.99505 10.5192 2.12711 10.28 2.36044 10.1594C2.51959 10.0771 2.69652 10.0652 2.85573 10.1123L5.47498 10.682C5.83476 10.7603 6.06297 11.1154 5.98471 11.4752C5.90646 11.8349 5.55136 12.0632 5.19158 11.9849L4.23379 11.7766C4.36214 11.9046 4.49696 12.0261 4.63772 12.1405C5.36973 12.7357 6.26239 13.1403 7.24029 13.2798C7.48842 13.3151 7.74204 13.3334 7.99992 13.3334C10.9454 13.3334 13.3333 10.9456 13.3333 8.0001C13.3333 5.05458 10.9454 2.66677 7.99992 2.66677ZM7.99992 4.0001C8.36811 4.0001 8.66659 4.29858 8.66659 4.66677V7.33343H11.3333C11.7014 7.33343 11.9999 7.63191 11.9999 8.0001C11.9999 8.36829 11.7014 8.66677 11.3333 8.66677H7.99992C7.63173 8.66677 7.33325 8.36829 7.33325 8.0001V4.66677C7.33325 4.29858 7.63173 4.0001 7.99992 4.0001Z",fill:"#c5733b"})}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"clip0_5143_63779",children:(0,r.jsx)("rect",{width:"13.3333",height:"13.3333",fill:"white",transform:"translate(14.6667 14.6667) rotate(180)"})})})]}),et=()=>(0,r.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.77383 5.86769C3.3992 3.53377 5.79817 2.14873 8.13209 2.7741C8.90266 2.98057 9.56871 3.37968 10.0936 3.90558L11.2038 5.0157H9.34658C9.10496 5.0157 8.90908 5.21158 8.90908 5.4532C8.90908 5.69483 9.10496 5.8907 9.34658 5.8907H12.2589C12.375 5.8907 12.4863 5.8446 12.5683 5.76254C12.6504 5.68048 12.6965 5.56919 12.6964 5.45314V2.54085C12.6964 2.29923 12.5006 2.10335 12.2589 2.10335C12.0173 2.10335 11.8214 2.29923 11.8214 2.54085V4.39595L10.7129 3.28744C10.0823 2.65564 9.28162 2.17624 8.35855 1.92891C5.55786 1.17847 2.67909 2.84052 1.92864 5.64122C1.86611 5.87461 2.00461 6.11451 2.238 6.17705C2.47139 6.23958 2.71129 6.10108 2.77383 5.86769ZM11.7615 7.82299C11.5281 7.76046 11.2882 7.89896 11.2257 8.13235C10.6003 10.4663 8.20133 11.8513 5.86742 11.2259C5.09685 11.0195 4.4308 10.6204 3.90589 10.0945L2.79646 8.98432H4.6531C4.89472 8.98432 5.0906 8.78844 5.0906 8.54682C5.0906 8.30519 4.89472 8.10932 4.6531 8.10932L1.74072 8.10932C1.4991 8.10932 1.30322 8.30519 1.30322 8.54682V11.4592C1.30322 11.7008 1.4991 11.8967 1.74072 11.8967C1.98235 11.8967 2.17822 11.7008 2.17822 11.4592V9.60352L3.2866 10.7126C3.91729 11.3445 4.71781 11.8238 5.64095 12.0711C8.44165 12.8216 11.3204 11.1595 12.0709 8.35882C12.1334 8.12543 11.9949 7.88553 11.7615 7.82299Z",fill:"#c5733b"})});var en=n(83238),er=n(41596),ei=n(45196),eo=n(95801),el=n(71876),es=n(1436),ea=n(20095),ed=n(4867),ep=n(19376),em=n(49883),ec=n(36417),eu=n(894),ex=n(27753),eg=n(26214);n(57028);var eh=n(37830),ef=n(31070),eb=n(24570),ew=n(72441),ev=n(63562);let eA=(0,o.Ay)(a.A)(e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",paddingTop:"2px",paddingBottom:"2px",justifyContent:"space-between",[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),ej=(0,o.Ay)(a.A)(e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",gap:"0 0.5rem",[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),ey=(0,o.Ay)(u.A)(e=>{let{theme:t}=e;return{[t.breakpoints.up("xl")]:{paddingLeft:"1rem"},[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),eC=(0,o.Ay)(u.A)(e=>{let{theme:t}=e;return{paddingTop:"5px",paddingBottom:"5px",[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),ek=(0,o.Ay)(s.A)(e=>{let{theme:t}=e;return{fontSize:"14px !important",lineHeight:"1.25rem",fontWeight:"600 !important",color:t.palette.primary.main+"!important",display:"inline-flex",alignItems:"center",gap:"0 0.5rem",[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),eM=(0,o.Ay)(p.A)(e=>{let{theme:t}=e;return{minWidth:"72px",paddingLeft:0,paddingRight:0,fontSize:"12px",fontWeight:400,"&.submit":{".MuiButton-startIcon":{position:"absolute"}},[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),eS={roleTitle:""},eI=()=>{let{t:e}=(0,y.Bd)("common"),t=(0,L.A)(),{control:n,handleSubmit:i,formState:{errors:o},reset:l}=(0,d.mN)({defaultValues:eS}),a=(0,m.wA)(),p=(0,m.d4)(e=>e.roleStore);return(0,r.jsx)(c.A,{children:(0,r.jsxs)("form",{onSubmit:i(e=>{a(ev.Ml.setParams({...p.params,...e}))}),children:[(0,r.jsxs)(eA,{children:[(0,r.jsxs)(ek,{children:[e("button.search"),(0,r.jsx)(h.A,{})]}),(0,r.jsxs)(ej,{children:[(0,r.jsx)(eM,{startIcon:p.loading?(0,r.jsx)(f.b,{width:13}):(0,r.jsx)("span",{}),className:"submit",type:"submit",variant:"contained",size:"small",children:e("button.search")}),(0,r.jsx)(eM,{startIcon:(0,r.jsx)(b.A,{}),variant:"outlined",size:"small",sx:{fontWeight:600},onClick:e=>{l(eS),a(ev.Ml.setParams(eS))},children:e("button.reset")})]})]}),(0,r.jsx)(w.A,{children:(0,r.jsx)(ey,{direction:"row",alignItems:"center",flexWrap:"wrap",spacing:{xs:0,sm:5,md:10,xl:15},children:(0,r.jsxs)(eC,{direction:"row",alignItems:"center",spacing:2,children:[(0,r.jsx)(s.A,{variant:"body2",sx:{whiteSpace:"nowrap",color:t.palette.common.white+"!important",fontWeight:"600 !important",fontSize:"12px"},children:e("roleMgn.roleName")}),(0,r.jsx)(d.xI,{name:"roleTitle",control:n,render:e=>{let{field:t}=e;return(0,r.jsx)(x.A,{...t,size:"small",className:"input-text input-text-form",placeholder:"Enter",sx:{".MuiOutlinedInput-input":{minWidth:"133px !important"}}})}})]})})})]})})},eN=(0,o.Ay)(a.A)(e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",paddingTop:"2px",paddingBottom:"5px",justifyContent:"space-between",marginTop:"1rem",[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),ez=(0,o.Ay)(s.A)(e=>{let{theme:t}=e;return{fontSize:"14px !important",lineHeight:"1.25rem",fontWeight:"600 !important",color:t.palette.primary.main+"!important",display:"inline-flex",alignItems:"center",gap:"0 0.5rem",[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),eW=(0,o.Ay)(p.A)(e=>{let{theme:t}=e;return{minWidth:68,paddingLeft:0,paddingRight:0,fontSize:"12px",fontWeight:600,".MuiButton-startIcon":{marginRight:"2px"},"&.submit":{".MuiButton-startIcon":{position:"absolute"}},[t.breakpoints.down("xl")]:{},[t.breakpoints.down("md")]:{}}}),eR=(0,i.forwardRef)((e,t)=>(0,r.jsx)(em.A,{ref:t,...e,timeout:50})),eT=(0,o.Ay)(s.A)(e=>{let{theme:t}=e;return{color:t.palette.primary.main,[t.breakpoints.down("xl")]:{},[t.breakpoints.down("md")]:{}}}),eB=e=>{var t;let{isOpenModal:n,handleModal:o,handleAddRoles:l}=e,s=(0,j.d)(),{t:d}=(0,y.Bd)("common"),p=(0,L.A)(),c=(0,i.useRef)(null),u=(0,O.GV)(e=>e.roleStore),x=(0,m.wA)(),[g,f]=(0,i.useState)({pageSize:B.WU,page:0}),b=async e=>{f({page:null==e?void 0:e.page,pageSize:null==e?void 0:e.size})},w=async()=>{o(),await (0,ew.QN)(300)},v=async()=>{await x((0,ev.kN)({...u.params,pageNo:g.page+1,pageSize:g.pageSize,sortDirection:"DESC"}))},A=async()=>{var e;let t=[];if(null===(e=c.current)||void 0===e||e.api.getSelectedRows().forEach(e=>{t.push(e)}),!(null==t?void 0:t.length))return s(d("userMgn.msg.pleaseSelecRoleToAddUser"),j.x.Warning);l(t)},C=(0,i.useMemo)(()=>[{headerName:"#",maxWidth:60,width:60,cellClass:"text-center",checkboxSelection:!0,cellStyle:{display:"flex",alignItems:"center",justifyContent:"center"}},{field:"roleTitle",headerName:d("roleMgn.roleName"),cellClass:"text-center"},{field:"roleName",headerName:d("roleMgn.roleCode"),cellClass:"text-center"}],[d]);return(0,i.useEffect)(()=>{v()},[g,u.params,n]),(0,r.jsxs)(ef.A,{fullWidth:!0,open:n,maxWidth:"mdx",onClose:w,TransitionComponent:eR,disableScrollLock:!0,children:[(0,r.jsx)(ec.A,{sx:{padding:"0.8rem",paddingBottom:0,borderBottom:"1px solid "+p.palette.common.borderDark,backgroundColor:p.palette.common.dark},children:(0,r.jsx)(eT,{sx:{mb:3,fontSize:16,fontWeight:600,textAlign:"center"},children:d("roleMgn.title.addRole")})}),(0,r.jsx)(eu.A,{"aria-label":"close",onClick:w,sx:{position:"absolute",right:5,top:5,color:e=>e.palette.grey[500]},children:(0,r.jsx)(eh.A,{})}),(0,r.jsxs)(eb.A,{children:[(0,r.jsxs)(ex.A,{sx:{position:"relative",overflowY:"visible",padding:"1rem",backgroundColor:p.palette.common.dark},children:[(0,r.jsx)(eI,{}),(0,r.jsx)(eN,{children:(0,r.jsxs)(ez,{children:[d("roleMgn.title.roleList"),(0,r.jsx)(h.A,{})]})}),(0,r.jsx)(a.A,{sx:{height:"440px",position:"relative"},children:(0,r.jsx)(K.A,{ref:c,columnDefs:C,rowData:null==u?void 0:null===(t=u.roles)||void 0===t?void 0:t.filter(e=>(null==e?void 0:e.useYn)==="Y"),containerStyle:{height:"400px"},defaultColDef:{flex:1},rowSelection:"multiple",hasPagination:!0,metadata:null==u?void 0:u.rolesMeta,onPaginationChange:b})})]}),(0,r.jsxs)(eg.A,{sx:{pb:{sm:3},pt:"0.7rem !important",justifyContent:"flex-end",borderTop:"1px solid "+p.palette.common.borderDark,paddingLeft:"1rem",paddingRight:"1rem",backgroundColor:p.palette.common.dark},children:[(0,r.jsx)(eW,{size:"small",variant:"outlined",className:"submit",onClick:w,children:d("button.cancel")}),(0,r.jsx)(eW,{size:"small",variant:"contained",className:"submit",onClick:A,children:d("button.save")})]})]})]})};var eU=n(64665),eL=n(63551),eF=n(35417),eH=n(39905),eD=n(11441),eq=n(16508),eE=n(94908);let eP={fullName:"",username:"",password:""},eV=(0,o.Ay)(u.A)(e=>{let{theme:t}=e;return{[t.breakpoints.down("lg")]:{},[t.breakpoints.down("md")]:{}}}),eY=(0,o.Ay)(eU.A)(e=>{let{theme:t}=e;return{boxShadow:"none",border:"1px solid "+t.palette.common.borderDark,borderRadius:"4px !important",minHeight:"182px",".MuiCardHeader-title":{fontSize:"12px !important",fontWeight:"700 !important",color:t.palette.primary.main},[t.breakpoints.down("xl")]:{},[t.breakpoints.down("md")]:{},[t.breakpoints.down("sm")]:{}}}),eO=(0,o.Ay)(p.A)(e=>{let{theme:t}=e;return{minWidth:68,paddingLeft:0,paddingRight:0,fontSize:"12px",fontWeight:600,".MuiButton-startIcon":{marginRight:"2px"},"&.submit":{".MuiButton-startIcon":{position:"absolute"}},[t.breakpoints.down("xl")]:{},[t.breakpoints.down("md")]:{}}}),e_=(0,o.Ay)(s.A)(e=>{let{theme:t}=e;return{fontSize:"12px",lineHeight:"1.25rem",fontWeight:"600 !important",color:(null==t?void 0:t.palette.primary.main)+"!important",[t.breakpoints.down("xl")]:{},[t.breakpoints.down("md")]:{}}}),eZ=(0,i.forwardRef)((e,t)=>(0,r.jsx)(em.A,{ref:t,...e,timeout:50})),eG=e=>{var t;let{dispatch:n,isOpenModal:o,handleModal:l,store:a}=e,p=(0,j.d)(),{t:m}=(0,y.Bd)("common"),c=(0,L.A)(),u=v.Ik().shape({fullName:v.Yj().required(m("message.requiredField")),username:v.Yj().required(m("message.requiredField")),password:v.Yj().required(m("message.requiredField")).matches(/^(?=(?:.*[^a-zA-Z0-9]){2,}).{8,16}$/,m("message.mustBeAtLeast8to12Characters")),email:v.Yj().email(m("message.emailMustToValid")).required(m("message.requiredField"))}),{control:x,setValue:h,clearErrors:f,handleSubmit:b,reset:w,formState:{errors:C}}=(0,d.mN)({defaultValues:eP,mode:"onSubmit",resolver:(0,A.t)(u)}),[k,M]=(0,i.useState)(!1),S=async()=>{null==a.selectedUser&&f(),l(),await (0,ew.QN)(300)},I=(0,i.useCallback)(async()=>{if(null!==a.selectedUser){var e,t;Object.entries({...null===(e=a.selectedUser)||void 0===e?void 0:e.sysUserInfoRes,username:null===(t=a.selectedUser)||void 0===t?void 0:t.username}).forEach(e=>{let[t,n]=e;h(t,n)})}},[h,a.selectedUser]),N=(0,i.useCallback)(()=>{w(eP)},[]),z=async e=>{var t;let r={id:null==a?void 0:null===(t=a.selectedUser)||void 0===t?void 0:t.id,password:null==e?void 0:e.password},i=await n(g.Xp.changePassword(r));if(null==i?void 0:i.error)return p(m("userMgn.msg.resetPasswordFailed"),j.x.Error);p(m("userMgn.msg.resetPasswordSuccess"),j.x.Success),S()};return(0,i.useEffect)(()=>(null!==a.selectedUser?I():N(),()=>{w(eP)}),[o,I,N,null===(t=a.selectedUser)||void 0===t?void 0:t.sysUserInfoRes]),(0,r.jsxs)(ef.A,{fullWidth:!0,open:o,maxWidth:"mdx",onClose:S,TransitionComponent:eZ,disableScrollLock:!0,children:[(0,r.jsx)(ec.A,{sx:{padding:"0.8rem",paddingBottom:0,borderBottom:"1px solid "+c.palette.common.borderDark,backgroundColor:c.palette.common.dark},children:(0,r.jsx)(s.A,{sx:{mb:3,fontSize:16,fontWeight:600,color:"#fff",textAlign:"center"},children:m("userMgn.resetPassword")})}),(0,r.jsx)(eu.A,{"aria-label":"close",onClick:S,sx:{position:"absolute",right:5,top:5,color:e=>e.palette.grey[500]},children:(0,r.jsx)(eh.A,{})}),(0,r.jsx)(eb.A,{children:(0,r.jsxs)("form",{onSubmit:b(z),autoComplete:"off",children:[(0,r.jsx)(ex.A,{sx:{position:"relative",overflowY:"visible",padding:"1rem",backgroundColor:c.palette.common.dark},children:(0,r.jsxs)(eY,{children:[(0,r.jsx)(eL.A,{sx:{background:c.palette.common.semiDark,padding:"0.85rem",paddingLeft:"10px",paddingRight:"10px",borderBottom:"1px solid "+c.palette.common.borderDark},title:m("userMgn.title.userInfo")}),(0,r.jsx)(H.A,{sx:{padding:"0.5rem !important",background:c.palette.common.dark},children:(0,r.jsx)(P.A,{children:(0,r.jsxs)(eF.Ay,{container:!0,columnSpacing:10,rowSpacing:2,children:[(0,r.jsx)(eF.Ay,{item:!0,xs:12,children:(0,r.jsx)(e_,{children:m("userMgn.title.userDetail")})}),(0,r.jsx)(eF.Ay,{item:!0,xs:12,md:6,children:(0,r.jsxs)(eV,{direction:"row",alignItems:"start",spacing:2,children:[(0,r.jsxs)(s.A,{variant:"body2",sx:{whiteSpace:"nowrap",color:"#fff !important",fontWeight:"600 !important",fontSize:"12px",paddingTop:"5px",minWidth:100,textAlign:"right"},children:[(0,r.jsx)("span",{style:{color:"#CF1322"},children:"*"}),m("userMgn.fullName")]}),(0,r.jsx)(q.A,{name:"fullName",control:x,controlType:"input",inputProps:{disabled:!0},rules:{required:!0},errMsg:C.fullName&&m("message.requiredField")})]})}),(0,r.jsx)(eF.Ay,{item:!0,xs:12,md:6,children:(0,r.jsxs)(eV,{direction:"row",alignItems:"start",spacing:2,children:[(0,r.jsxs)(s.A,{variant:"body2",sx:{whiteSpace:"nowrap",color:"#fff !important",fontWeight:"600 !important",fontSize:"12px",paddingTop:"5px",minWidth:100,textAlign:"right"},children:[(0,r.jsx)("span",{style:{color:"#CF1322"},children:"*"}),m("userMgn.username")]}),(0,r.jsx)(q.A,{name:"username",control:x,controlType:"input",rules:{required:!0},inputProps:{disabled:!0},errMsg:C.username&&m("message.requiredField")})]})}),(0,r.jsx)(eF.Ay,{item:!0,xs:12,children:(0,r.jsx)(V.A,{sx:{borderColor:c.palette.common.borderDark,marginTop:"5px !important",marginBottom:"5px !important"}})}),(0,r.jsx)(eF.Ay,{item:!0,xs:12,children:(0,r.jsx)(e_,{children:m("userMgn.title.newPassword")})}),(0,r.jsx)(eF.Ay,{item:!0,xs:12,md:6,children:(0,r.jsxs)(eV,{direction:"row",alignItems:"start",spacing:2,children:[(0,r.jsxs)(s.A,{variant:"body2",sx:{whiteSpace:"nowrap",color:"#fff !important",fontWeight:"600 !important",fontSize:"12px",paddingTop:"5px",minWidth:100,textAlign:"right"},children:[(0,r.jsx)("span",{style:{color:"#CF1322"},children:"*"}),m("userMgn.password")]}),(0,r.jsxs)(Y.A,{fullWidth:!0,children:[(0,r.jsx)(d.xI,{name:"password",control:x,rules:{required:!0},render:e=>{let{field:t}=e;return(0,r.jsx)(eH.A,{...t,fullWidth:!0,type:k?"text":"password",size:"small",className:"input-text",placeholder:"Enter",sx:{".MuiOutlinedInput-root":{borderRadius:"4px !important"}},inputProps:{maxLength:16},InputProps:{endAdornment:(0,r.jsx)(eD.A,{position:"end",sx:{marginLeft:"-5px",svg:{width:"13px"}},children:(0,r.jsx)(eu.A,{edge:"end",onMouseDown:e=>e.preventDefault(),onClick:()=>M(!k),children:k?(0,r.jsx)(eE.bZk,{width:14}):(0,r.jsx)(eE.EgV,{})})})}})}}),C.password&&(0,r.jsx)(eq.A,{sx:{color:"error.main",fontSize:"11px",marginLeft:0,marginTop:0},children:C.password.message})]})]})})]})})})]})}),(0,r.jsx)(eg.A,{sx:{pb:{sm:3},pt:"0.7rem !important",justifyContent:"flex-end",borderTop:"1px solid "+c.palette.common.borderDark,paddingLeft:"1rem",paddingRight:"1rem",backgroundColor:c.palette.common.dark},children:(0,r.jsx)(eO,{size:"small",variant:"contained",className:"submit",type:"submit",children:"Save"})})]})})]})},eX={fullName:"",username:"",email:"",remarkAdmin:"",emplId:"",password:"",status:ea.Z.Active,gender:ea.J.Male,roleNames:[],roles:[]},eJ=(0,o.Ay)(u.A)(e=>{let{theme:t}=e;return{paddingBottom:"10px",[t.breakpoints.down("xl")]:{},[t.breakpoints.down("md")]:{}}}),eQ=(0,o.Ay)(u.A)(e=>{let{theme:t}=e;return{[t.breakpoints.down("xl")]:{},[t.breakpoints.down("md")]:{}}}),e$=(0,o.Ay)(s.A)(e=>{let{theme:t}=e;return{fontSize:"10px",fontWeight:400,color:"#475569",paddingBottom:"0.3rem",[t.breakpoints.down("xl")]:{},[t.breakpoints.down("md")]:{}}}),eK=(0,o.Ay)(s.A)(e=>{let{theme:t}=e;return{fontSize:"12px",fontWeight:400,color:"#475569",display:"flex",alignItems:"center",[t.breakpoints.down("xl")]:{},[t.breakpoints.down("md")]:{}}}),e0=(0,o.Ay)("span")(e=>{let{theme:t}=e;return{display:"inline-block",width:135,textOverflow:"ellipsis",overflow:"hidden",[t.breakpoints.down("xl")]:{},[t.breakpoints.down("md")]:{}}}),e1=(0,o.Ay)(p.A)(e=>{let{theme:t}=e;return{minWidth:68,paddingLeft:0,paddingRight:0,fontSize:"12px",fontWeight:600,".MuiButton-startIcon":{marginRight:"2px"},"&.submit":{".MuiButton-startIcon":{position:"absolute"}},[t.breakpoints.down("xl")]:{},[t.breakpoints.down("md")]:{}}}),e2=(0,o.Ay)(p.A)(e=>{let{theme:t}=e;return{minWidth:68,paddingLeft:0,paddingRight:0,fontSize:"12px",fontWeight:600,border:"1px solid ".concat(t.palette.primary.main,"!important"),".MuiButton-startIcon":{marginRight:"2px"},"&.submit":{".MuiButton-startIcon":{position:"absolute"}},[t.breakpoints.down("xl")]:{},[t.breakpoints.down("md")]:{}}}),e6=(0,o.Ay)(el.A)(e=>{let{theme:t}=e;return{boxShadow:"none",borderRadius:"4px",height:"calc(100% - 30px)",overflowY:"auto",scrollbarWidth:"thin",scrollbarColor:"unset",".MuiCardHeader-title":{fontSize:"12px !important",fontWeight:"700 !important",color:t.palette.primary.main},[t.breakpoints.down("xl")]:{},[t.breakpoints.down("md")]:{},[t.breakpoints.down("sm")]:{}}}),e3=(0,o.Ay)(p.A)(e=>{let{theme:t}=e;return{".MuiButton-startIcon":{marginRight:"4px"},color:t.palette.primary.main,fontSize:"12px !important",fontWeight:"600 !important",[t.breakpoints.down("xl")]:{},[t.breakpoints.down("md")]:{}}}),e5=(0,o.Ay)("h3")(e=>{let{theme:t}=e;return{fontSize:"var(--font-size-2)",lineHeight:"var(--font-line-height-2)",fontWeight:600,color:t.palette.primary.main,span:{fontSize:"var(--font-size-1)",lineHeight:"var(--font-line-height-1)",color:t.palette.common.white,fontWeight:400},["@media (min-width: ".concat(B.pv,"px) and (max-width: 1439px)")]:{},[t.breakpoints.down("lg")]:{fontSize:"2.5rem",lineHeight:"2.75rem"},[t.breakpoints.down("md")]:{fontSize:"1.75rem",lineHeight:"2rem"},[t.breakpoints.down("sm")]:{fontSize:"2rem",lineHeight:"2.5rem"}}}),e4=()=>{var e,t,n,o,s,p,c,x,h,b;let w=(0,m.wA)(),C=(0,j.d)(),{t:k}=(0,y.Bd)("common"),{confirm:M,onConfirm:S,onClose:I}=(0,ei.S)(),{acceptButtons:N}=(0,eo.e)(),z=(0,L.A)(),[W,R]=(0,i.useState)(!1),[T,q]=(0,i.useState)(!0),[E,P]=(0,i.useState)(!1),[V,Y]=(0,i.useState)(null),[_,Z]=(0,i.useState)(null),[G,{on:X,off:J}]=(0,er.C)(),Q=()=>{R(!W),Y(null)},el=()=>{Z(null)},ea=v.Ik().shape({fullName:v.Yj().required(k("message.requiredField")),username:v.Yj().required(k("message.requiredField")),phoneNumber:v.Yj().required(k("message.requiredField")),password:v.Yj().required(k("message.requiredField")).matches(/^(?=(?:.*[^a-zA-Z0-9]){2,}).{8,16}$/,k("message.mustBeAtLeast8to12Characters")),email:v.Yj().email(k("message.emailMustToValid")).required(k("message.requiredField"))}),{control:em,setValue:ec,handleSubmit:eu,reset:ex,getValues:eg,formState:{errors:eh},watch:ef}=(0,d.mN)({defaultValues:eX,mode:"onSubmit",resolver:(0,A.t)(ea)}),eb=(0,O.GV)(e=>e.userStore),ew=(0,i.useRef)(!1),[ev,eA]=(0,i.useState)({pageSize:B.WU,page:0}),ej=(0,i.useRef)(null),ey=(0,i.useRef)(null),{height:eC,wHalfMain:ek}=(0,U.A)(),eM=(0,i.useRef)(ek),eS=(0,i.useMemo)(()=>[{headerName:"#",maxWidth:60,width:60,cellClass:"text-center",valueGetter:e=>{var t,n;return(null!==(n=null===(t=e.node)||void 0===t?void 0:t.rowIndex)&&void 0!==n?n:0)+1}},{field:"fullName",headerName:k("userMgn.fullName"),cellClass:"text-center"},{field:"username",headerName:k("userMgn.username"),cellClass:"text-center"},{field:"email",headerName:k("userMgn.email"),cellClass:"text-center"},{field:"statusNm",headerName:k("userMgn.status"),cellClass:"text-center"}],[k]),eI=(0,i.useMemo)(()=>[{headerName:"#",maxWidth:60,width:60,cellClass:"text-center",valueGetter:e=>{var t,n;return(null!==(n=null===(t=e.node)||void 0===t?void 0:t.rowIndex)&&void 0!==n?n:0)+1}},{field:"roleTitle",headerName:k("roleMgn.roleName"),cellClass:"text-center"},{field:"roleName",headerName:k("roleMgn.roleCode"),cellClass:"text-center"},{field:"roleDesc",headerName:k("userMgn.roleDesc"),cellClass:"text-center"}],[k]),eN=async e=>{var t,n,r,i;P(!0),q(!1);let o=await w(g.Xp.getUser(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.id)),l=null==o?void 0:null===(r=o.payload)||void 0===r?void 0:null===(n=r[1])||void 0===n?void 0:n.data;ex({...l,...null==l?void 0:l.sysUserInfoRes,id:null==l?void 0:l.id,username:null==l?void 0:l.username,password:"*********--",roleNames:null==l?void 0:null===(i=l.roles)||void 0===i?void 0:i.map(e=>null==e?void 0:e.roleName),status:null==l?void 0:l.status})},ez=async e=>{eA({page:null==e?void 0:e.page,pageSize:null==e?void 0:e.size})},eW=()=>{q(!0),P(!1),w(g.Xp.resetState(null)),ex(eX)},eR=async e=>{var t,n;if((null==e?void 0:null===(t=e.roleNames)||void 0===t?void 0:t.length)<=0)return C(k("userMgn.msg.pleaseSelecRoleToAddUser"),"warning");let r=T?await w(g.Xp.addUser(e)):await w(g.Xp.updateUser(e)),i=(0,ep.FT)(r);if(null==i?void 0:i.isFailed)return C(null!==(n=null==i?void 0:i.resultMsg)&&void 0!==n?n:T?k("userMgn.msg.addUserFailed"):k("userMgn.msg.updateUserFailed"),j.x.Error,{hasIcon:!0});C(T?k("userMgn.msg.addUserSuccess"):k("userMgn.msg.updateUserSuccess"),j.x.Success,{hasIcon:!0}),I(),eW()},eT=(0,i.useCallback)(async()=>{await w(g.Xp.fetchUsers({...eb.params,pageNo:ev.page+1,pageSize:ev.pageSize,sortDirection:"DESC"}))},[w,ev,eb.params]),eU=async e=>{ec("roleNames",null==e?void 0:e.map(e=>null==e?void 0:e.roleName)),ec("roles",e),J()};(0,i.useEffect)(()=>{eT()},[JSON.stringify(ev)]),(0,i.useEffect)(()=>{if(!ew.current){ew.current=!0;return}eT()},[JSON.stringify(eb.params)]),(0,i.useEffect)(()=>{eM.current=ek},[ek]);let eL=eC/2-64,eF=eC-eL-8;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l.A,{container:!0,spacing:2,children:[(0,r.jsxs)(l.A,{size:{xs:12,md:6},sx:{width:eM.current},children:[(0,r.jsxs)(eJ,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,r.jsx)(e5,{dangerouslySetInnerHTML:{__html:k("userMgn.title.userMgnCount",{count:null==eb?void 0:eb.total})}}),(0,r.jsx)(u.A,{direction:"row",alignItems:"center",spacing:2.4,children:N.Create&&(0,r.jsx)(e1,{startIcon:(0,r.jsx)(D.A,{}),size:"small",variant:"contained",onClick:eW,children:k("common.create")})})]}),(0,r.jsx)(a.A,{sx:{height:eC+40+"px",position:"relative"},children:(0,r.jsx)(K.A,{ref:ej,columnDefs:eS,rowData:eb.users,containerStyle:{height:eC-40+"px"},defaultColDef:{flex:1},onRowDoubleClicked:eN,hasPagination:!0,metadata:null==eb?void 0:eb.meta,onPaginationChange:ez,showActionInfo:!0})})]}),(0,r.jsxs)(l.A,{size:{xs:12,md:6},children:[(0,r.jsxs)("form",{style:{height:eL+"px"},onSubmit:eu(()=>{S({isOpen:!0,mode:T?"add":"update",message:T?k("userMgn.msg.areYouSureWantToAddUser",{name:eg("fullName")}):k("userMgn.msg.areYouSureWantToUpdateUser",{name:eg("fullName")})})}),autoComplete:"off",children:[(0,r.jsx)(eJ,{direction:"row",alignItems:"flex-end",justifyContent:"flex-end",children:(0,r.jsxs)(u.A,{direction:"row",alignItems:"center",spacing:2.4,children:[N.Create||N.Update?(0,r.jsx)(e1,{startIcon:(null==eb?void 0:eb.loading)?(0,r.jsx)(f.b,{}):(0,r.jsx)("span",{}),size:"small",variant:"contained",className:"submit",type:"submit",children:k("button.save")}):null,(0,r.jsx)(e2,{startIcon:(0,r.jsx)(et,{}),size:"small",variant:"outlined",onClick:Q,disabled:!eb.selectedUser,sx:{paddingLeft:"10px",paddingRight:"10px","&.Mui-disabled":{color:e=>e.palette.primary.main,border:"1px solid #E2E8F0"}},children:k("userMgn.resetPassword")})]})}),(0,r.jsxs)(e6,{children:[(0,r.jsx)(es.A,{sx:{paddingLeft:"10px",paddingRight:"10px",paddingTop:"9px",paddingBottom:"9px"},title:k("userMgn.title.userEntry"),action:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e3,{startIcon:(0,r.jsx)(ee,{}),sx:{padding:0,height:"auto",borderRadius:0,lineHeight:1,marginTop:"-6px"},onClick:eb.selectedUser&&(e=>{Z(e.currentTarget)}),variant:"text",children:k("userMgn.history")}),(0,r.jsx)(F.A,{anchorEl:_,open:!!_,onClose:()=>el(),anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},sx:{"& .MuiMenu-paper":{minWidth:400,minHeight:74,mt:2.5,boxShadow:"0px 4px 18px 0px #0616401A",overflow:"hidden"}},children:(0,r.jsxs)(eQ,{px:2,direction:"row",alignItems:"flex-start",spacing:3.5,children:[(0,r.jsxs)(a.A,{children:[(0,r.jsx)(e$,{children:k("userMgn.created")}),(0,r.jsxs)(eK,{noWrap:!0,children:[k("userMgn.by")," ",(0,r.jsx)(e0,{style:{fontWeight:600,paddingLeft:"1.2rem",color:z.palette.primary.main},children:null==eb?void 0:null===(e=eb.selectedUser)||void 0===e?void 0:e.createdName})]}),(0,r.jsxs)(eK,{children:[k("userMgn.date")," ",(0,r.jsx)("span",{style:{fontWeight:600,paddingLeft:"0.4rem",color:z.palette.primary.main},children:(0,ed.r6)(new Date(null==eb?void 0:null===(t=eb.selectedUser)||void 0===t?void 0:t.createdAt),"yyyy/MM/dd HH:mm")})]})]}),(0,r.jsxs)(a.A,{children:[(0,r.jsx)(e$,{children:k("userMgn.lastUpdated")}),(0,r.jsxs)(eK,{noWrap:!0,children:[k("userMgn.by")," ",(0,r.jsx)(e0,{style:{fontWeight:600,paddingLeft:"1.2rem",color:z.palette.primary.main},children:null==eb?void 0:null===(n=eb.selectedUser)||void 0===n?void 0:n.updatedName})]}),(0,r.jsxs)(eK,{children:[k("userMgn.date")," ",(0,r.jsx)("span",{style:{fontWeight:600,paddingLeft:"0.4rem",color:z.palette.primary.main},children:(null==eb?void 0:null===(o=eb.selectedUser)||void 0===o?void 0:o.updatedAt)?(0,ed.r6)(new Date(null==eb?void 0:null===(s=eb.selectedUser)||void 0===s?void 0:s.updatedAt),"yyyy/MM/dd HH:mm"):null})]})]})]})})]})}),(0,r.jsx)(H.A,{sx:{padding:"0.5rem !important",height:eC/2+"px"},children:(0,r.jsx)($,{store:eb,dispatch:w,selectUser:g.gr,addUser:g.nu,updateUser:g.TK,deleteUser:g.hG,formState:eX,setValue:ec,reset:ex,control:em,errors:eh,isEdited:E})})]})]}),(0,r.jsxs)(eJ,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:3,children:[(0,r.jsx)(e5,{dangerouslySetInnerHTML:{__html:k("userMgn.title.roleListCount",{count:(null==eb?void 0:null===(c=eb.selectedUser)||void 0===c?void 0:null===(p=c.roles)||void 0===p?void 0:p.length)||0})}}),T||!eb.selectedUser?(0,r.jsx)(e1,{size:"small",variant:"contained",className:"submit",onClick:X,children:k("roleMgn.addRole")}):null]}),(0,r.jsx)(a.A,{sx:{height:eF+"px",position:"relative"},children:(0,r.jsx)(K.A,{ref:ey,columnDefs:eI,rowData:null!==(b=null!==(h=null==eb?void 0:null===(x=eb.selectedUser)||void 0===x?void 0:x.roles)&&void 0!==h?h:ef("roles"))&&void 0!==b?b:[],containerStyle:{height:eF+"px"},defaultColDef:{flex:1}})})]})]}),(0,r.jsx)(eG,{isOpenModal:W,store:eb,dispatch:w,handleModal:Q,dataDict:V}),(0,r.jsx)(eB,{isOpenModal:G,store:eb,dispatch:w,handleModal:J,handleAddRoles:eU}),(0,r.jsx)(en.A,{isOpen:M.isOpen,onOk:()=>{I(),eR(eg())},onCancel:I,type:"delete"===M.mode?"error":"warn",title:"delete"===M.mode?k("userMgn.title.deleteUser"):"add"===M.mode?k("userMgn.title.addUser"):k("userMgn.title.updateUser"),content:M.message})]})};var e7=n(70819);let e9=(0,o.Ay)(l.A)(e=>{let{theme:t}=e;return{marginLeft:-20,marginRight:-20,borderBottom:"1px solid ".concat("dark"===t.palette.mode?t.palette.customColors.darkLineColor:t.palette.customColors.lightLineColor)}}),e8=()=>{let e=(0,m.wA)();return(0,i.useEffect)(()=>{e(e7.mM.getListAll())},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e9,{container:!0,mb:4,children:(0,r.jsx)(l.A,{size:{xs:12},sx:{paddingLeft:4.5,paddingRight:4.5},children:(0,r.jsx)(T,{})})}),(0,r.jsx)(l.A,{container:!0,spacing:4,children:(0,r.jsx)(l.A,{size:{xs:12},children:(0,r.jsx)(e4,{})})})]})}}}]);