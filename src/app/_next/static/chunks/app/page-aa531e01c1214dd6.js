(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8974],{88133:(e,t,a)=>{Promise.resolve().then(a.bind(a,9809))},76046:(e,t,a)=>{"use strict";var s=a(66658);a.o(s,"redirect")&&a.d(t,{redirect:function(){return s.redirect}}),a.o(s,"useParams")&&a.d(t,{useParams:function(){return s.useParams}}),a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},91831:(e,t,a)=>{"use strict";a.d(t,{h:()=>s});let s={Dashboard:"/dashboard",Login:"/login",NotFound:"/not-found",Sys:{Index:"/sys",SysCfMgn:"/sys/cf-mgn",SysDictMgn:"/sys/dict-mgn",SysMenuMgn:"/sys/menu-mgn",SysPgMgn:"/sys/pg-mgn",SysBtnMgn:"/sys/btn-mgn",SysRoleMgn:"/sys/role-mgn",SysUserMgn:"/sys/user-mgn",SysUserPgMgn:"/sys/user-pg-mgn",SysUserActionLogMgn:"/sys/user-action-log-mgn",SysFileDocumentMgn:"/sys/file-document-mgn",SysDataProcessLogMgn:"/sys/data-process-log-mgn"},FundCode:{Index:"/fcm",CurrencyMgn:"/fcm/currency-mgn",FundMasterMgn:"/fcm/fund-master-mgn",FieldAndAbbMeanDefinitionMgn:"/fcm/field-and-abb-mean-definition-mgn",TargetFund:"/fcm/target-fund",CodeType:"/fcm/code-type",FieldAbbreviation:"/fcm/field-abbreviation"},Peer:{Performance:"/peer/perf",FundMaster:"/peer/fund-master",GroupMaster:"/peer/group-master"},Fund:{Index:"/fund",MosCphsiveDetail:"/fund/mos-cphsive-detail",BosIntegration:"/fund/bos-integration",Portfolio:"/fund/portfolio",RateOfReturn:"/fund/retn-rate",DepartmentMgn:"/fund/team",EmployeeMgn:"/fund/empl",CorpSite:"/fund/corp-and-site",KettleFileUpload:"/fund/kettle-file-upload",MasterMgn:"/fund/master-mgn",ExchangeRate:"/fund/exchange-rate",RawDataCfg:"/fund/raw-data-cfg",RawDataComparison:"/fund/raw-data-comparison",FundFlow:"/fund/fund-flow"}}},9809:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var s=a(95155),n=a(91831),r=a(86939),o=a(93297),u=a(76046),d=a(39832);let i=()=>{let e=(0,o.A)();return localStorage.getItem(r.A.storeUser)&&(e.user||d.A.getItem(r.A.storeUser))?(0,u.redirect)(n.h.Dashboard):(0,u.redirect)(n.h.Login),(0,s.jsx)(s.Fragment,{})}},30672:(e,t,a)=>{"use strict";a.d(t,{O:()=>A,c:()=>h});var s=a(95155),n=a(39832),r=a(76046),o=a(12115),u=a(70059),d=a(72441),i=a(59292),l=a(60766),m=a(62246),c=a(86939),g=a(48406),y=a(97491),f=a(4744),p=a(3417);let h=(0,o.createContext)(l.lU),A=e=>{let{children:t}=e;(0,r.useRouter)();let{returnUrl:a}=(0,r.useParams)(),[A,S]=(0,o.useReducer)(i.li,l.lU),[I,v]=(0,o.useState)((0,d.L0)()),[b,_]=(0,o.useState)(null),[M,P]=(0,o.useState)([]),E=(0,p.jL)(),T=async()=>{S({type:m.W.SET_IS_INITIALIZED,payload:!0}),n.A.getItem(c.A.storageAccessTokenKey)&&S({type:m.W.SET_USER,payload:JSON.parse(n.A.getItem(c.A.storeUser))}),S({type:m.W.SET_LOADING,payload:!1})},U=async(e,t)=>await u.Ay.get("/sys/users/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),k=async(e,t)=>{await u.Ay.post(c.A.loginUrl,e).then(async e=>{let t;let{data:s,status:o}=e.data,{roles:u,userInfo:i,menus:l}=s;(null==(t=await U(null==i?void 0:i.userId,null==s?void 0:s.access_token))?void 0:t.data)&&(t=null==t?void 0:t.data),n.A.setItem(c.A.storageAccessTokenKey,s.access_token),n.A.setItem(c.A.storeRefreshTokenKey,s.refresh_token),S({type:m.W.SET_USER,payload:{...i,role:u,menus:[h,{id:(0,d.lk)(),menuTitleEn:"menu_page.home",menuTitleKr:"menu_page.home",icon:"icon_Dashboard",routFullPath:"/dashboard",routPath:"/dashboard"},...l]}}),n.A.setItem(c.A.storeUser,JSON.stringify({...i,role:u,menus:[{id:(0,d.lk)(),menuTitleEn:"menu_page.home",menuTitleKr:"menu_page.home",icon:"icon_Dashboard",routFullPath:"/dashboard",routPath:"/dashboard"},...l],...null==t?void 0:t.data})),n.A.setItem(c.A.tabLinks,JSON.stringify([{id:(0,d.lk)(),menuTitleEn:"menu_page.home",menuTitleKr:"menu_page.home",icon:"icon_Dashboard",routFullPath:"/dashboard",routPath:"/dashboard",href:"/dashboard"}]));let g=a&&"/"!==a?a:"/";(0,r.redirect)(g)}).catch(e=>{var a;t&&e&&t(null!==(a=null==e?void 0:e.response)&&void 0!==a?a:e)})},D=async e=>{let t=n.A.getItem(c.A.storeUser);if(!t)return;let a={...JSON.parse(t),...e};n.A.setItem(c.A.storeUser,JSON.stringify(a)),S({type:m.W.SET_USER,payload:a})},R=async(e,t)=>{await u.Ay.post(c.A.registerUrl,{...e,phoneNumber:e.phoneNumber.split("-").join(""),fullName:e.bizOrgName}).then(async a=>{var s;let n=a.data;if((null==n?void 0:null===(s=n.status)||void 0===s?void 0:s.success)===!1){t&&t(n);return}await k({username:e.email,password:e.password})}).catch(e=>{t&&t(e)})},N=async()=>{await y.Dv.signOut(),n.A.removeItem(c.A.storageAccessTokenKey),n.A.removeItem(c.A.storeRefreshTokenKey),n.A.removeItem(c.A.storeUser),n.A.removeItem(c.A.tabLinks),n.A.removeItem(g.d5.cachedRoute),n.A.removeItem("navWidth"),S({type:m.W.SET_USER,payload:null}),S({type:m.W.SET_LOADING,payload:!1}),S({type:m.W.SET_IS_INITIALIZED,payload:!1}),E(f.Xp.logout()),v([]),(0,r.redirect)("/login")};return(0,o.useEffect)(()=>{T()},[]),(0,s.jsx)(h.Provider,{value:{...A,login:k,register:R,logout:N,dispatch:S,tabLists:I,setTabListContext:v,updateCachedData:D,tabSelected:b,setTabSelected:_,listMounted:M,setListMounted:P},children:t})}},93297:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(12115),n=a(30672);let r=()=>(0,s.useContext)(n.c)}},e=>{var t=t=>e(e.s=t);e.O(0,[9465,1414,3014,3417,8441,1517,7358],()=>t(88133)),_N_E=e.O()}]);